
# Mixly_教程

---

## 1. Mixly软件的下载、安装和使用方法

Mixly软件下载、安装的参考链接：[https://mixly.org/bnu-maker/mixl2.0rc](https://mixly.org/bnu-maker/mixl2.0rc)


Mixly软件使用方法的参考链接：[https://mixly.readthedocs.io/zh-cn/latest/](https://mixly.readthedocs.io/zh-cn/latest/)

<span style="color: rgb(255, 76, 65);">注意：</span><span style="background:#ff0;color:#000">编写Mixly_教程中所有课程的代码需要选用Arduino AVR 进入代码编辑器。</span>

![图片不存在](./media/3b48e1fc503d5f6dfe9c8f8193aab7c4.png)


---

## 2. 添加 Mixly 库文件

<span style="font-size: 24px; color: rgb(255, 76, 65);">**注意：Mixly 库文件必须添加好，否则后面的示例代码打不开**。</span>

<br>
<br>

Mixly 软件下载安装后，点击Arduino AVR 进入代码编辑器，先点击右上角“**设置**”，再点击“**管理库**”进入添加库文件界面。

![图片不存在](./media/fe44c3bcb561e37b9e2dc1bfb7844b20.png)

![图片不存在](./media/01fc7ef8d75d20d43ea157d38f52ac98.png)

先点击“**导入库**”，再点击![图片不存在](./media/5a137384bdd4573a817f30f643b14dfd.png)进入库文件所放的位置，找到库文件并选中它，然后单击“确定”。之后，就可以看到库文件在导入中。

![图片不存在](./media/5082a8caad32773647930ad54a89a682.png)

![图片不存在](./media/3ca51365c80c29028d43ef5650fd645e.png)

![图片不存在](./media/a1ea5ed6aa254e8eeb4700e2c294b38e.png)

点击“**管理库**”，可以看到添加成功的库文件。

![图片不存在](./media/2a4c72a79fb3b60803fcde7d2fd042a1.png)

关闭添加库文件的窗口界面，在代码编辑器左侧看到所添加的库文件。

![图片不存在](./media/930d0172a1f326bd570c96fda00c14bf.png)

---

## 3. 单个传感器/模块项目课程

上面操作完后，打开套件工具包，我们可以看到套件中有很多传感器/模块，有主板和连接线等。这里，我们将多种传感器/模块利用自带连接线单独连接在主板。然后上传对应的实验代码，单独测试各个传感器/模块的功能。我们下面的课程是先从简单到复杂学习单个模块/传感器的原理，后面再学习一些模块/传感器的扩展应用以巩固加深我们对该套件的理解。

**<span style="color: rgb(255, 76, 65);">特别注意：</span>** 实验时，模块/传感器连接线材时，必须按照教程里的接线方法及位置，电源与信号脚不能错接，否则会损坏模块/传感器。

---

第01课 Hello World

**1. 项目介绍**

对于Arduino的初学者，先从一些简单的开始学习吧！在这个项目中，你只需要一个主板，USB线和计算机就可以完成“Hello World!”项目。它不仅是主板和计算机的通信测试，也是Arduino的初级项目。这也是一个入门实验，让你进入计算机的编程世界。

---

**2. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |
| :----------------------: | :-------------------: |
|主板 x1|       USB线 x1        |

---

**3. 模块接线图**

![图片不存在](media/dd57d3e66c178f6a71834596b170456e.png)

---

**4. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''<u>**01_HelloWorld**</u>"。

![图片不存在](./media/49d77017808e9b45484973558e71b702.png)

将主控板通过USB线连接到计算机后，开始导入我们提供的示例代码。先单击![图片不存在](./media/4a57bb12eb7eeef4a0019637c6086c28.png)，然后点击![图片不存在](./media/cec65dc9108c85a93aa0eb1fa18097a9.png)，进入Mixly_代码文件夹中选中文件“**01_HelloWorld**”后单击“**打开**”。这样，文件“01_HelloWorld”导入成功。

![图片不存在](./media/b58c8904acff9955463373c1735153fa.png)

![图片不存在](./media/64adf63cd458995c15f2c9f31b318fe7.png)

![图片不存在](./media/bbc7c51c1cda033c0a2435918532066f.png)


为了避免将代码上传至主板时出现错误，必须点击![图片不存在](./media/df952596e6e65b811accad15dcaef063.png)选择正确的主控板型号“Arduino Uno”，然后点击![图片不存在](./media/899b9377f0530fd78d7d1ffcecf404ef.png)连接好串口端口，这样主控板型号和串口端口都选择好。

![图片不存在](./media/bfabb7c052e6f8ed460d11ad468556cc.png)

![图片不存在](./media/4b8a280c3eaefdb7129ed60fb0237181.png)

主控板型号和串口端口选择正确后，单击![图片不存在](./media/ea3d3808fadeabf8b675301ccdb1bed1.png)将示例代码上传到主控板上。

![图片不存在](./media/abb2b1abdee0b7c1a0925eed9a1f82dd.png)

![图片不存在](./media/7cb3f23fd91b5638a910fbc59ca797fc.png)

代码上传成功。

![图片不存在](./media/505e359af4c08d8e1b257c2da14a27e7.png)

---

**5. 实验结果**

代码上传成功后，利用MicroUSB线连接到计算机上电，点击![图片不存在](./media/5062ba0fa721ef8560e3f52808844c5b.png)打开串口监视器窗口，可以看到选好的串口端口。设置波特率为 **9600** ，这样串口监视器窗口不断地打印“**<u>Hello World!</u>**”。

![图片不存在](./media/845545b419b1f32bbe974c4af3b7fc67.png)

---

**6. 代码说明**

![图片不存在](./media/aae4c21c2ceb4901d4cb9f18980ae952.png)

设置串口波特率，一般是设置为9600。

![图片不存在](./media/523202075b083e787a413957bcb68eec.png)

换行输出数据。从串行端口输出数据，跟随一个回车和一个换行符。

![图片不存在](./media/052e64eeeb63223ff0f42950f41c0888.png)

将程序的执行暂停一段时间，也就是延时。单位是秒。 

---

第02课 发出激光

**1. 项目介绍**

激光模块上的激光头发出的激光与常见的光不同。一方面，激光的单色性好。另一方面，激光发射器内部特定的结构，使得激光能够被聚集成单束光，朝着同一方向射出，亮度高，方向性好。

正是由于这些特性，激光被广泛用于对特定材料进行切割、焊接、表面处理等等。激光的能量非常高，玩具激光笔照射人眼可能导致眩光，长时间可能导致视网膜损害，我国也禁止用激光照射航行的飞机。因此，**请注意不要用激光发射器对准人眼。**

---

**2. 模块参数**

工作电压：DC 3.3V~5V

工作电流：21mA

最大功率：0.105W

控制信号：数字信号

工作温度：-10°C ~ +50°C

尺寸：32mm x 23.8mm x 10mm

接口：间距为2.54 mm 3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/5d78caa65aee7dcc032be03158ce7b86.png)

激光模块主要由激光头组成，激光头由发光管芯、聚光透镜、铜可调套筒三部分组成。

从激光模块的电路原理图我们可以知道，它是用三极管驱动的。激光头的 1 脚始终上拉到VCC，在信号端 S 处输入一个高电平数字信号，NPN三极管Q1导通，激光头的 2 脚被下拉到GND，此时传感器开始工作。在信号端 S 处输入低电平时NPN三极管Q1不导通，传感器停止工作。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) |![图片不存在](media/fc83fd05ac4628d981601707db7c3de2.png) |![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)       | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) | 
| ------------------------ | ------------------------ | ---------------------------- | ---------------------------- | 
|主板 x1 | 激光模块 x1    | 3P线(反向) x1 | USB线 x1   |
 

---

**5. 模块接线图**

![图片不存在](media/7747d202c586c4af1708118fce1e7bac.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**02_Laser_Sensor**"。

**注意：为了避免上传代码不成功，请不要在上传代码前连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/ceb59392225a377e73e6868ba70c9fba.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，能看到模块上激光管发射红色激光信号2秒，然后关闭发射2秒，循环交替。

![图片不存在](media/01f29aa3df71eb0636adc17f86fedd86.png)

---

**8. 代码说明**

![图片不存在](./media/1bf9b0bb4c538cf0aad98c5f75095fac.png)

向指定引脚设置“高”或“低”，选择“高”代表给该引脚设置高电平，有电压，有电流，则LED点亮；选择“低”代表给引脚设置低电平，没电压，没有电流，则LED不亮。

![图片不存在](./media/a12bb3f72118ee18f643094208d43bae.png)

将程序的执行暂停一段时间，也就是延时。单位是毫秒。         

---

第03课 自锁按键

**1. 项目介绍**

自锁按键模块主要是由一个自锁按键组成，上电后，按下白色按键，模块信号端输出低电平，将白色按键按起，模块信号端输出高电平。第02课我们学习了怎么让单片机的引脚输出一个高电平或者低电平，这节课程我们就来学习怎么读取引脚的电平。

自锁按键模块的白色按键按下，单片机读取到低电平，将白色按键按起读取到高电平。通过读取传感器上S端的高低电平，判断自锁按键是按下还是按起，并且在串口监视器上显示测试结果。

---

**2. 模块参数**

工作电压：DC 3.3V~5V 

工作温度：-10°C ~ +50°C

控制信号：数字信号

尺寸：32mm x 23.8mm x 15.6mm

接口：2.54mm间距，3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/7b403c5b32d212c2ea94aebcd01e738d.png)

按键有四个引脚，其中1和3是相连的，2和4是相连的，在我们未按下按键时，1、3与2、4是断开的，信号端S读取的是被1KΩ的上拉电阻R1所拉高的高电平，而当我们按下按键时，1、3和2、4连通。信号端S连接到了GND，此时读取到的电平为低电平，即按下按键，传感器信号端为低电平，模块上的LED灯亮起；按键按起时，信号端为高电平，模块上的LED灯灭。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) | ![图片不存在](media/628fac0d8bdcd43d93afc13ae228177c.png) |![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)       | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) | 
| ------------------------ | ------------------------ | ---------------------------- |---------------------------- |
| 主板 x1  | 自锁按键模块 x1  | 3P线(反向) x1 | USB线 x1 |


---

**5. 模块接线图**

![图片不存在](media/0d0c1c0311f5be6a0c152a07b7e39bf5.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**03_Self-locking_Button**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/7b49510b48bd2b22398bf0bfe6d03fdf.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为  **<u>9600</u>**。

当按下模块上的白色按键时，按键值value为0，串口监视器打印出“**0     Press the button**”；再次按下白色按键（即白色按键被按起）时，按键值value为1，串口监视器打印出“**1   Press the botton again**”字符。

![图片不存在](media/71f9087c55e13b0b90aeb4a657d0cc78.png)

![图片不存在](media/350c45bb104db1839d5356d8c1918550.png)

![图片不存在](media/ae12098cfb99debdc157bfbdb54fe9b4.png)

---

**8. 代码说明**

![图片不存在](./media/d10fa9a18aeebbc7a2de11615b0908e9.png)

这是创建“<span style="color: rgb(255, 76, 65);">变量</span>”的指令方块，可以声明“全局”或“局部”，还可以设置变量的类型、名称和赋值，item是变量名称。

![图片不存在](./media/6e19642e911317a55038ea37b470ffd4.png)

设置变量item初始值。
![图片不存在](./media/921640195bfa1b4a58237c64f569404d.png)

获取变量item。

![图片不存在](./media/292847810c50883e58d84b8deaf4b8b4.png)

“如果” 后面的表达式为真，则运行 “执行” 后面的代码。“如果” 后面的表达式为假 ，则运行 “否则” 后面的代码。

![图片不存在](./media/32d92f186b95d95b63c8e8391c51bc6e.png)

读取按键的数字电平，高HIGH或者低LOW。如果该引脚未连接任何东西，则可以返回HIGH或LOW（并且可以随机更改）。主板上的输入引脚A0、A1、A2、A3、A4、A5可以用作数字引脚，分别对应数字引脚D14、D15、D16、D17、D18、D19。

![图片不存在](./media/63790c3924e9f9ed467d73e792627375.png)

初始化串口通信，并设置波特率为9600。

![图片不存在](./media/2174fad05e8e3da77d9d28e3386e7a74.png)

设置串口打印方式的指令方块，“**换行**”表示换行打印，“**不换行**”表示不换行打印。

![图片不存在](./media/49e98f90204bd1c944ebf72f49fc2cd0.png)

自锁按键看读取数字电平信号并赋给变量item，并串口不换行打印。

![图片不存在](./media/f85678f18ce42384fbf9aca90032492d.png)

检测到按下自锁按键。

---

第04课 电容触摸传感器

**1. 项目介绍**

电容触摸模块主要由1个触摸检测芯片 TTP223-BA6 构成。模块上提供一个触摸按键，功能是用可变面积的按键取代传统按键。当我们上电之后，传感器需要约0.5秒的稳定时间，此时间段内不要触摸按键，此时所有功能都被禁止，始终进行自校准，校准周期约为4秒。

---

**2. 模块参数**

工作电压：DC 3.3V~5V

工作电流：3mA

最大功率：0.015W

输出信号：数字信号

工作温度：-10°C ~ +50°C

尺寸：32mm x 23.8mm x 9mm

接口：2.54mm间距，3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/56fd49a5552a32ac193119de8cb0a9ad.png)

TTP223N-BA6 的输出通过 AHLB（4）引脚选择高电平或低电平有效。通过 TOG（6）引脚选择直接模式或触发模式。

| TOG  | AHLB | 引脚Q的功能           |
| ---- | ---- | --------------------- |
| 0    | 0    | 直接模式，高电平有效  |
| 0    | 1    | 直接模式，低电平有效  |
| 1    | 0    | 触发模式，上电状态为0 |
| 1    | 1    | 触发模式，上电状态为1 |

从原理图我们可以知道 TOG 脚和 AHLB 脚是悬空的，此时输出为直接模式，高电平有效。

当我们用手指触摸模块上的感应区时，信号端 S 输出高电平（上一课学习的自锁按键模块与之相反，当自锁按键感应到按下输出低电平），板载红色LED点亮，我们通过读取模块上 S 端的高低电平，判断电容触摸模块上的感应区是否感应到触摸。

<span style="color: rgb(255, 76, 65);">注意：</span>我们上电之后，传感器需要约0.5sec的稳定时间，此时间段内不要对键进行触摸，此时所有功能都被禁止，始终进行自校准，当键没被触摸时，重校准周期约为4.0sec。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) |![图片不存在](media/891f854b35e7d4d08ba203898a3fa362.png) |![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png) | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |
| ------------------------ | ------------------------ | ---------------------------- |---------------------------- |
|主板 x1|  电容触摸传感器 x1 | 3P线(反向) x1 | USB线 x1 |
 

---

**5. 模块接线图**

![图片不存在](media/a4463cd18cb74ff8371ac58246a23c29.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**04_Touch_Sensor**"。

**注意：为了避免上传代码不成功，请不要在上传代码前连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/1bb4961c5894c78ef48b523eaa40de40.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

![图片不存在](media/1301ca0723c9af1f66dd974fb813b6bc.png)

当电容触摸传感器模块上的感应区感应到触摸时，板载红色LED点亮，value 值为 1，串口监视器打印出“**1  Touch the button**”；当没有感应到触摸时，板载红色LED熄灭，value 值为 0，串口监视器打印出“**0 Loosen the button**”。

![图片不存在](media/5ac17533aed3c38d734ac75ff650cc85.png)

![图片不存在](media/25f9e839446237ab98d8a81d7c46845c.png)

![图片不存在](media/d2a8838505c370fc128a094a8f2124e9.png)

---

**8. 代码说明**

可以参照第03课的代码说明，这里就不多做介绍了。

---

第05课 检测障碍物

**1. 项目介绍**

避障传感器主要由一对红外线发射与接收管元件组成。实验中，我们通过读取传感器上S端高低电平，判断是否存在障碍物。

---

**2. 模块参数**

工作电压: DC 3.3V~5V 

工作电流: 6.8mA

最大功率: 0.034W

输出信号: 数字信号

最大感应距离: 17.3cm

工作温度：-10°C ~ +50°C

尺寸：32mm x 23.8mm x 11mm

接口：2.54mm间距，3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/7de49ab018b45f26e4cfba839ea00b3f.jpg)

NE555时基电路提供给发射管TX发射出一定频率的红外信号，红外信号会随着传送距离的加大逐渐衰减，如果遇到障碍物，就会形成红外反射。当检测方向RX遇到反射回来的信号比较弱时，接收检测引脚输出高电平，说明障碍物比较远；当反射回来的信号比较强，接收检测引脚输出低电平，说明障碍物比较近，此时指示灯亮起。传感器上有两个电位器，一个用于调节发送功率，一个用于调节接收频率，通过调节两个电位器，我们可以调节它的有效距离。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) |![图片不存在](media/2b35bd88b0382b61946efaa259ccf033.png) | ![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png) | 
| ------------------------ | ------------------------ | ---------------------------- |
|主板 x1|  避障传感器 x1 | 3P线(反向) x1 |
|![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) | ![图片不存在](media/f5504973a1c7bd3a74e8a9370a3c2358.png)|     |
| USB线 x1| 一字螺丝刀 x1 |    |

---

**5. 模块接线图**

![图片不存在](media/fda25acbc5367e4cf344b864a28b89fd.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件"**05_Obstacle_Avoidance_Sensor**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/2369b7f763dda228cc9bdae256db1b94.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，接着开始调节传感器模块上的两个电位器感应距离。避障传感器上有两个电位器，分别是接收频率调节电位器和发射功率调节电位器，如下图所示。

![图片不存在](media/8bf19ee47776ac781c8be8905a3adff2.jpg)

先调节发射功率调节电位器，先用一字螺丝刀将电位器顺时针拧到尽头，然后逆时针慢慢往回调，当调节到SLED灯亮起时，微调使传感器上SLED灯介于亮与不亮之间的**不亮**状态。

接着设置接收频率调节电位器，同样用一字螺丝刀将电位器顺时针拧到尽头，然后逆时针慢慢往回调，当SLED灯亮起时，微调使传感器上SLED灯介于亮与不亮之间的**不亮**状态，此时能检测障碍物的距离最长。

打开串口监视器，设置波特率为 **<u>9600</u>**。当传感器检测到障碍物时，value 值为 **0**，SLED 灯亮，串口监视器打印出 “**0   There are obstacles**” ；没有检测到障碍物时，value 值为 **1**，SLED 灯灭，串口监视器打印出 “**1   All going well**” 。

![图片不存在](media/435ac56c29c3fd150e8f0b6d69c30b24.png)

![图片不存在](media/33008fb93b1a1e495798a9cde074327d.png)

![图片不存在](media/ca6a6b97985b6c4e17eaf660a97ea028.png)

---

**8. 代码说明**

可以参照第03课的代码说明，这里就不多做介绍了。

---

第06课 光折断计数

**1. 项目介绍**

光折断模块主要由 1 个 ITR-9608 光电开关组成，它属于对射光电开关传感器。

在本实验中，我们通过设置代码，模拟出流水线上利用类似传感器实现对产品进行计数的功能。

---

**2. 模块参数**

工作电压：DC 3.3V~5V

工作电流：24mA

最大功率：0.12W

输出信号：数字信号

工作温度：-10°C ~ +50°C

尺寸：32mm x 23.8mm x 13mm

接口：2.54 mm间距，3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/5c12ff10904bcde040287a35921a9585.jpg)

光折断模块上的光电开关是利用被检测物体对光束的遮挡或反射，由同步回路选通电路，从而检测遮挡物体的有无。所有能反射光线的物体都可以被检测。光电开关将输入的电流在发射器上转换为光信号并射出，然后接收器根据接收到的光线强弱或有无，对目标物体进行检测。

当用不透明物体放置在传感器凹槽时，C 脚与 VCC 连通，传感器信号端 S 为高电平，自带红色 LED熄灭；传感器凹槽没有任何东西时，传感器信号端被 R2 拉低为低电平，自带红色LED亮起。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) | ![图片不存在](media/47e138b8db24862715e221f17eba9bf9.png) |![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png) | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) | 
| --------------------- | ------------------------ | ---------------------------- |---------------------------- |
|主板 x1     |  光折断模块 x1 | 3P线(反向) x1 | USB线 x1  |     



---

**5. 模块接线图**

![图片不存在](media/6d0624f29904b6619c0b9465ba83544c.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**06_Photo_Interrupt**"。

**注意：为了避免上传代码不成功，请不要在上传代码前连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/3579f92737773a00bd52ac1b1cb20f21.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

串口监视器打印出 PushCounter 的数据，物体每穿过传感器凹槽一次，PushCounter 数据加 1。

![图片不存在](media/47905269fd1eb7ad268e898d212a81d6.png)

![图片不存在](media/ab5d799c05b8ab10c8afa3d8008522d3.png)

![图片不存在](media/b695ff8653bde8f2e2836235beca5ad3.png)

---

**8. 代码说明**

通过以下表格，我们可以了解此课程代码的逻辑设置，这个编程技巧我们在后面还会用到。

| 初始状态                              |         |
| :------------------------------------ | :------ |
| State（传感信号端数值）               | 设置为0 |
| lastState（传感器信号端上一循环数值） | 设置为0 |
| PushCounter（累计通过物体数目）       | 设置为0 |

| 状态                       |                                                              |                                                  |
| -------------------------- | ------------------------------------------------------------ | ------------------------------------------------ |
| 当物体开始穿过传感器凹槽时 | lastState为0，State检测到变为1，两个数据不相等，lastState变为1。 | PushCounter设置为PushCounter加1打印PushCounter值 |
| 当物体离开传感器凹槽时     | lastState为1，State检测到变为0，两个数据不相等，lastState变为0。 | PushCounter不变不打印PushCounter值               |
| 当物体再次穿过传感器凹槽时 | lastState为0，State检测到变为1，两个数据不相等，lastState变为1。 | PushCounter设置为PushCounter加1打印PushCounter值 |
| 当物体再次离开传感器凹槽时 | lastState为1，State检测到变为0，两个数据不相等，lastState变为0。 | PushCounter不变不打印PushCounter值               |


---

第07课 碰撞传感器

**1. 项目介绍**

碰撞传感器主要用的是轻触开关，而上一课我们学习的自锁按键模块用的是按键开关。碰撞传感器常用于3D打印机内做限位开关。

---

**2. 模块参数**

工作电压：DC 3.3V~5V

工作电流：20mA

最大功率：0.1W

输出信号：数字信号

尺寸：39.5mm x 23.5mm x 9.2mm

接口：2.54mm间距，3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/f08edb3e83b172c9c666a4873c23604b.png)

碰撞传感器主要由 1 个轻触开关组成。当物体碰到轻触开关弹片，下压时，2 脚和 3 脚导通，传感器信号端 S 被下拉为低电平，模块上自带的红色 LED 点亮；当没有物体碰撞轻触开关时，2 脚和 3 脚不导通，3 脚被 4.7 K的电阻 R1 上拉为高电平，即传感器信号端S为高电平，此时自带红色 LED 熄灭。碰撞传感器的原理与倾斜模块的电路原理几乎一样，不同之处在于导通方式。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) |![图片不存在](media/17419874061f2c02ea2c4c1c3a73a37a.png) |![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)       | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |   
| --------------------- | --------------------- | ---------------------------- |---------------------------- |
|主板 x1| 碰撞传感器 x1 | 3P线(反向) x1 | USB线 x1  |  
 
 

---

**5. 模块接线图**

![图片不存在](media/a37ed06de4fb2795fc382da38963536b.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**07_Collision_Sensor**"。

**<span style="background:#ff0;color:#000">
注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。 </span>**

![图片不存在](./media/89869dcf94643821fbaccee87a878a77.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

将传感器的上弹片下压时，value值为0，模块上LED点亮，串口监视器打印出“**0  The end of this!**” ；当松开弹片时，value值为1，模块上LED熄灭，串口监视器打印出“**1  All going well!**”。

![图片不存在](media/d82aea73954889092b3d53f8475a6c4e.png)

![图片不存在](media/bf6c522e07d24e68a4bbbf376eb15837.png)

![图片不存在](media/29dfe0bc2a2abd13fb8fbcbec29ce960.png)

---

**8. 代码说明**

可以参照第03课的代码说明，这里就不多做介绍了。

---

第08课 附近有人吗

**1. 项目介绍**

人体红外热释传感器主要由一个RE200B-P传感器元件组成。它是一款基于热释电效应的人体热释运动传感器，能检测到人体或动物身上发出的红外线，配合菲涅尔透镜能使传感器探测范围更远更广。

实验中，通过读取模块上S端高低电平，判断附近是否有人在运动；并且在串口监视器上显示测试结果。

---

**2. 模块参数**

工作电压: DC 3.3V~5V 

工作电流: 3.6mA

最大功率: 0.018W

静态电流: <50 uA

输出信号: 数字信号

触发方式: L不可重复触发/H重复触发

视野角度：Y = 90°，X = 110°（视野角度为理论数值）

最大检测距离: ≤5米

工作温度：-10°C ~ +50°C

尺寸：32mm x 23.8mm x 7.4mm

接口：2.54mm间距为，3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/d78c512ebf2ec0ae31513a4faa159fa8.jpg)

这个模块的原理图可能较前面的模块稍复杂，我们一部分一部分来看。先看电压转换部分，作用是将5V输入电压转换为3.3V输入电压。因为我们模块上用到的热释电红外传感器的工作电压是3.3V，不能直接用5V电压供电使用。有了这个电压转换部分，3.3V输入电压和5V输入电压都适用于此热释电红外传感器。

当红外热释传感器没有检测到红外信号时，红外热释传感器的1脚输出低电平，此时模块上的LED两端有电压差，有电流流过，LED被点亮，MOS管Q1导通（Q1是NPN MOS管，型号为2N7002。由于红外热释传感器的1脚输出低电平，所以Q1的源极Vs=0，而Q1的栅极Vg=3.3V，于是Q1的栅极G和Q1的源极S之间的电压 Vgs = 3.3V 大于Q1的阈值电压 2.5V，Q1导通。），信号端S检测到低电平。

当红外热释传感器检测到红外信号时，红外热释传感器的1脚输出高电平，此时模块上的LED熄灭，MOS管Q1不导通，则信号端S检测到被10K上拉电阻R5拉高的高电平。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) |![图片不存在](media/6963fc8b02f22425a78d196cbc3c8bd0.png)| ![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)  | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |   
| ------------------------ | --------------------------- | ---------------------------- |---------------------------- |
|主板 x1 | 人体红外热释传感器 x1 | 3P线(反向) x1 | USB线 x1   |    

---

**5. 模块接线图**

![图片不存在](media/27c7fb081a244c74c41d31e4094ce345.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**08_PIR_Motion**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/61c7add5d38fe044b709cd9f29aa7e49.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

当传感器检测到附近有人在运动时，value值为1，模块上LED熄灭，串口监视器显示“**1   Somebody is in this area!**”；没有检测到附近有人在运动时，value值为0，模块上LED点亮，串口监视器显示“**0   No one!**”。

![图片不存在](media/c2edb28e95d39254502a85bbf76b8e86.png)

![图片不存在](media/1dbc4c515d51d563be2a6e1811e1f432.png)

![图片不存在](media/0f5c5985f312232a6d82bfe4dfde985e.png)

---

**8. 代码说明**

可以参照第03课的代码说明，这里就不多做介绍了。

---

第09课 播放声音

**1. 项目介绍**

蜂鸣器是一种一体化结构的电子讯响器，采用直流电压供电，广泛应用于计算机、打印机、复印机、报警器、电子玩具、汽车电子设备、电话机、定时器等电子产品中作发声器件。蜂鸣器主要分为有源蜂鸣器和无源蜂鸣器。在这个实验中，我们来学习尝试控制有源蜂鸣器发出声音。有源蜂鸣器元件内部自带震荡电路，使用时，我们只需要给无源蜂鸣器元件足够的电压，无源蜂鸣器就会自动响起。

---

**2. 模块参数**

工作电压：DC 3.3 ~ 5V 

工作电流：22.5mA

最大功率：0.12W

频率：2300HZ

控制信号：数字信号

工作温度：-10°C ~ +50°C

尺寸：32mm x 23.8mm x 12.3mm

接口：2.54mm间距，3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/ef842bd728bd9aa807e0e753fe17ee63.jpg)

从原理图我们可以得知，蜂鸣器的1脚通过串联一个电阻R2连接到电压正极；蜂鸣器的2脚连接到NPN三极管Q1的C极，集电极；Q1的B极，也就是基极通过串联一个电阻R1连接到S信号端；发射集接到GND。

当三极管Q1导通时，蜂鸣器的2脚连通GND，有源蜂鸣器便会工作。那么如何让三极管Q1导通呢？**NPN三极管的导通条件是基极（B）电压比发射极（E）电压高 0.3V 以上，只需要基极（B）被上拉至高电平即可。** 虽然三极管Q1的基极（B）有一个下拉电阻R3导致其不导通，但是R3电阻的阻值大，使其为弱下拉电阻。三极管Q1的基极（B）还连接了一个阻值小的强上拉电阻R1，只要我们用单片机IO口给S信号端输入高电平，强上拉电阻R1会将三极管Q1的基极（B）强上拉为高电平，三极管Q1就会导通，有源蜂鸣器就会工作。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) |![图片不存在](media/7e77d1498bafcbd3e9f2d40103af3734.png) |![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)       | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |    
| ------------------------ | ------------------------ | ---------------------------- |---------------------------- |  
| 主板 x1|  有源蜂鸣器模块 x1  |3P线(反向) x1 | USB线 x1  |      

---

**5. 模块接线图**

![图片不存在](media/dcfbfc8dea9ccfc48e3e85183cae9195.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**09_Active_Buzzer**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/e0aa76a4cbc3316862366696b2336b73.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，模块上有源蜂鸣器响起1秒，停1秒，循环交替。

![图片不存在](media/753916271412cd6daeb781c0489a0b3d.png)

---

**8. 代码说明**

可以参照第02课的代码说明，这里就不多做介绍了。

---

第10课 演奏音乐

**1. 项目介绍**

在之前的项目中，我们研究了有源蜂鸣器，它只能发出一种声音，可能会让你觉得很单调。这个项目将学习另一种蜂鸣器，无源蜂鸣器。与有源蜂鸣器不同，无源蜂鸣器可以发出不同频率的声音。在这个项目中，我们将使用控制板控制无源蜂鸣器演奏歌曲。

---

**2. 模块参数**

工作电压: DC 3.3V~5V 

工作电流: 50mA

最大功率: 0.25W

控制信号：数字信号

方波大小：大约2KHz

工作温度：-10°C ~ +50°C

尺寸：32mm x 23.8mm x 12.3mm

接口：2.54mm间距，3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/464acc632ce964cf70948cf56c269ec6.jpg)

这是一个无源蜂鸣器，上一课我们介绍过，有源蜂鸣器自带振荡源，是有正负之分的，只需要提供5V电压信号就会发声，发出的声音音调单一、频率固定。而无源蜂鸣器内部不带震荡电路，是没有正负之分的，类似于喇叭，只要加载不同的频率的电信号就可以实现发声，根据不同的频率所发出的声音也是不一样的。改变单片机引脚输出的工作频率，从而改变蜂鸣器鸣叫的音调。还可以改变输出电平的占空比，从而改变蜂鸣器输出声音的大小。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) |![图片不存在](media/0a79c3df25de35853a29cd4501823067.png)    | ![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)       | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |
| ------------------------ | --------------------------- | ---------------------------- |---------------------------- | 
|主板 x1 |无源蜂鸣器模块 x1 |3P线(反向) x1 | USB线 x1 |

---

**5. 模块接线图**

![图片不存在](media/dab9c29b21b1cfede9dcba9379565b5f.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**10_Passive_Buzzer**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/621e16e50710062b6a09d9816415c1bd.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，无源蜂鸣器模块先播放7种不同的音调，然后播放三首歌曲。

![图片不存在](media/02d64a143f9b4439819691bdb02ae781.png)

---

**8. 代码说明**

![图片不存在](./media/edb25ed9bb7c1e99597a4a760231f3bf.png)

向指定引脚设置无源蜂鸣器的播放频率和节拍。

![图片不存在](./media/aa09c2697ea9c1d92afb03ecd9d87e5e.png)

向指定引脚设置无源蜂鸣器播放特定的音乐。

![图片不存在](./media/a392005f80eca7917dac57359ef805d0.png)

向指定引脚设置无源蜂鸣器不发出声音。

---

第11课 风扇转动

**1. 项目介绍**

130电机模块上的HR1124S是应用于直流电机方案的单通道H桥驱动器芯片。HR1124S的H桥驱动部分采用低导通电阻的PMOS和NMOS功率管。低导通电阻保证芯片低的功率损耗，使得芯片安全工作更长时间。此外HR1124S拥有低待机电流，低静态工作电流，这些性能使HR1124S易用于玩具方案。

实验中，我们可通过输出到两个信号端IN+和IN-的电压方向来控制电机的转动方向，让电机转动起来。

---

**2. 模块参数**

工作电压: DC 3.3V~5V 

最大输入电流：1A

电机驱动电压：5V

电机最大驱动电流：1A（输入DC 5V）

电机最大驱动电流：0.4A（输入DC 3.3V）

控制信号: 数字信号

工作温度：-10°C ~ +50°C

尺寸：32mm x 23.8mm x 24.5mm

接口：2.54mm间距，4pin防反接口

---

**3. 模块原理图**

![图片不存在](media/381e7461586cc80615540dfd77d479e2.jpg)

HR1124S芯片的作用是助于驱动电机。而电机所需电流较大，无法用三极管驱动更无法直接用IO口驱动。让电机转动起来的方法很简单，给电机两端添加电压即可。不同电压方向电机转向也不相同，额度电压内，电压越大，电机转动得越快；反之电压越低，电机转动得越慢，甚至无法转动。所以我们可以用PWM口来控制电机的转速，这一课我们先学习用高低电平来控制电机。


---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) |![图片不存在](media/0fb16f82134e03f951cb8b8c383577ef.png) |![图片不存在](media/1ff24756e347dcc14db599711e89d922.png) |
| ------------------------ | ------------------------ | ---------------------------- |
|主板 x1|  130电机模块 x1     |4P线(反向) x1 |
| ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg)    | ![图片不存在](media/aeffa45e36af55436bab7152f894eef9.png)|![图片不存在](media/90af020268d3414e4d72f2d6834b218e.png)|
|  USB线 x1   | 电池盒 x1   | AA电池 x6 |

<span style="color: rgb(255, 76, 65);">**注意：电机与风扇叶是分开装的，需要组合到一起。**</span>

**5. 模块接线图**

<span style="color: rgb(0, 209, 0);">**注意：请勿用手握住风扇叶，请将风扇叶对着空旷的地方，以免受伤。**</span>

![图片不存在](media/fa8c9289a195936fb2dc8e09324534ba.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**11_130_Motor**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后外接电源供电，上电后，观察实验结果。**

![图片不存在](./media/685b46eca0f08bb415580e057eb0f0b4.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

**注意：请勿用手握住风扇叶，请将风扇叶对着空旷的地方，以免受伤。**

<span style="color: rgb(255, 76, 65);">注意：</span> 由于风扇在转动时，所需的电流比其他传感器要大，会引起电路中电压电流波动，特别是风扇进行正反转时，电压电流波动过大，导致主板的电压电流过低，会导致复位。


代码上传成功后，拔下USB线断电，按照接线图正确接好模块，给主板外接电源供电（将装有电池的电池盒接到主板上）。上电后风扇逆时针转动2秒；停止2秒；顺时针转动2秒；停止2秒；循环交替。

![图片不存在](media/2437316d1f50c5f2d230852b1d614b6d.png) 

---

**8. 代码说明**

![图片不存在](./media/ef0f2616ed59974692b58df0c6eaafab.png)

将管脚设置为D4、D5，当D4输出为低电平即INA(IN+)输入低电平，D5输出为低电平即INB(IN-)输入低电平时（输入与输出是相对的，这个实验中对于我们单片机的引脚来说，单片机输出高低电平，模块就为输入了，即从单片机输出到模块；例如按键模块则相反，是模块输出到单片机），即：当两个管脚都设置为低电平时，电机停止转动。

![图片不存在](./media/68bd4e04924b1f45b6368f2dded9aa6b.png)

当D4输出为高电平即INA(IN+)输入高电平，D5输出为低电平即INB(IN-)输入低电平时，电机逆时针旋转。

![图片不存在](./media/adf8fbb88368272dbb6345d53efd9c14.png)

当D4输出为低电平，D5输出为高电平时，电机顺时针旋转。

---

第12课 检测光照强度

**1. 项目介绍**

光敏电阻传感器是一个常用的光敏电阻传感器，它主要由一个光敏电阻元件组成。光敏电阻元件的阻值随着光照强度的变化而变化，此传感器就是利用光敏电阻元件这一特性，设计电路将阻值变化转换为电压变化。光敏电阻传感器可以模拟人对环境光线的强度的判断，方便做出与人友好互动的应用。

---

**2. 模块参数**

工作电压: DC 3.3V~5V 

工作电流: 0.2mA

最大功率: 0.001W

输出信号: 模拟信号

工作温度：-10°C ~ +50°C

尺寸：32 x 23.8 x 7.4 mm

接口：2.54 mm间距，3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/e33c5f56d3a49da83f5bcc55182bed08.png)

当没有光照射时，电阻大小为0.2 MΩ，光敏电阻的信号端（2脚）检测的电压接近0。随着光照强度增大，光线传感器的电阻值越来越小，所以信号端能检测到的电压越来越大。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)  |![图片不存在](media/b60bc89e299325a03217aa1e0e4fe4f4.png) |![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)       | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |    
| ------------------------ | ------------------------ | ---------------------------- |---------------------------- |
| 主板 x1  | 光敏电阻传感器 x1  |3P线(反向) x1 | USB线 x1  |     

---

**5. 模块接线图**

![图片不存在](media/7fef013db07ca95336ecd3eb3b0132eb.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**12_Photoresistor**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/ce2f72e444078ca38603b23103f8ce10.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

串口监视器打印出光敏传感器的模拟值。光照越强，可以看到模拟值越大。

![图片不存在](media/9a6e07faf8d8b55fc26958b0a846c586.png)

![图片不存在](media/c13b28039c2a93c76ef65e0865ffc221.png)

---

**8. 代码说明**

![图片不存在](./media/25517b25e8b6d19c144aefe5c9e46332.png)

从指定的光敏传感器模拟引脚读取模拟值。为了兼容性，默认analogRead()分辨率为 10 位。详细了解请参考链接：[https://vimsky.com/examples/usage/arduino-language-functions-analog-io-analogread-ar.html](https://vimsky.com/examples/usage/arduino-language-functions-analog-io-analogread-ar.html) 。这个函数是从指定的模拟引脚PIN_ANALOG_IN读取光敏传感器的模拟信号，模拟信号的范围：0~1023。 

![图片不存在](./media/e2d3c9571caf73b6c4dffc7a8a42af05.png)

将光敏传感器的模拟信号赋值于变量val。

---

第13课 检测声量

**1. 项目介绍**

声音传感器是可以检测声音大小的。实验中，我们利用这个传感器测试当前环境中的声音对应的模拟值。声音越大，模拟值越大；并在串口监视器上显示测试结果。

---

**2. 模块参数**

工作电压: DC 3.3V~5V 

工作电流: 15mA

最大功率: 0.075W

输出信号: 模拟信号

工作温度：-10°C ~ +50°C

尺寸：32mm x 23.8mm x 10.3mm

接口：2.54mm间距，3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/80e0a523c80f30197d6d68476b8e9bbf.png)

声音传感器主要由一个高感度麦克风元件和LM386音频功率放大器芯片组成。高感度麦克风元件用于检测外界的声音。利用LM386音频功率放大器芯片设计对高感度麦克风检测到的声音进行放大的电路，最大倍数为200倍。使用时我们可以通过旋转传感器上电位器，调节声音的放大倍数。顺时针调节电位器到尽头，放大倍数最大。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)  |![图片不存在](media/d2f1d258aa291e3efb405237f2fb8fc7.png) |![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)  | 
| ------------------------ | ------------------------ | ---------------------------- |
|主板 x1 |  声音传感器 x1 | 3P线(反向) x1 |
| ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) | ![图片不存在](media/f5504973a1c7bd3a74e8a9370a3c2358.png) |       | 
|USB线 x1 |一字螺丝刀 x1 |      |

---

**5. 模块接线图**

![图片不存在](media/a01cd60f8f2670165653aae7d13437ce.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**13_MicroPhone**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/f12b2be39733acf03a2a8f93b7584801.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

![图片不存在](media/6259a014b165f42bee624660923c3459.png)

串口监视器打印出声音传感器接收到的声音对应的模拟值。对准MIC头大声说话，可以看到接收到的声音对应的模拟值变大。（**注意：如果声音变化对应的模拟值没有变化并且一直都是数字0，需要用一字螺丝刀顺时针旋转电位器来调节。**）

![图片不存在](media/b59d1a920f304ca1934a67816a281aa7.png)

![图片不存在](media/56ed05d42864ffca10f29fa719fdcdbb.png)

---

**8. 代码说明**

可以参照第12课的代码说明，这里就不多做介绍了。 

---

第14课 检测水量

**1. 项目介绍**

水滴传感器是一个模拟输入模块，也叫雨水、雨量传感器。可用于各种天气状况的监测，检测是否下雨及雨量的大小，转成模拟信号输出，并广泛应用于汽车自动刮水系统和智能天窗系统等。

---

**2. 模块参数**

工作电压: DC 3.3V~5V 

工作电流: 1.5mA

最大功率: 0.075W

输出信号: 模拟信号

工作温度：-10°C ~ +50°C

尺寸：32mm x 23.8mm x 9.3mm

接口：2.54mm间距，3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/c6e187ccac493cd61a644be8f88c66eb.jpg)

水滴传感器通过电路板上裸露的印刷平行线检测水量的大小。水量越多，就会有更多的导线被联通，随着导电的接触面积增大，雨滴感应区 2 脚输出的电压就会逐步上升。信号端 S 检测到的模拟值就越大。除了可以检测水量的大小，它还可以检测空气中的水蒸气。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)|![图片不存在](media/ecf322b694f16f05026377a9464d7117.png) |![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)       | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |   
| ------------------------ | ------------------------ | ---------------------------- | ---------------------------- |
|主板 x1 | 水滴传感器 x1 | 3P线(反向) x1 | USB线 x1   |     
 

---

**5. 模块接线图**

![图片不存在](media/ae6dcc52f26a4df8857498102126c0a1.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**14_Steam_Sensor**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/e2dbed0684e25322a9965c2dfc2d4fcb.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

![图片不存在](media/f6ca98631c73b0116511f2d20b19ed40.png)

在水滴传感器的感应区滴几滴水（**小心用水，注意不要滴到感应区以外的其他任何地方，包括主板**），串口监视器打印出此时水滴传感器的模拟值。水量变化，模拟值也会发生变化。水量越多，输出的模拟越大。

![图片不存在](media/bd8f79153b50a4963957249d70822f5f.png)

![图片不存在](media/df6cd750a14cfd670c0d0c804c2d9d57.png)

---

**8. 代码说明**

可以参照第12课的代码说明，这里就不多做介绍了。

---

第15课 检测温度

**1. 项目介绍**

NTC-MF52AT模拟温度传感器的原理与光敏电阻传感器类似，只是感应的器件不同。将传感器信号端接到主板的模拟口，可以读出对应的模拟值，电压值和温度值。我们可以利用模拟值，输出电压值，通过特定公式，计算出当前环境的温度值。

---

**2. 模块参数**

工作电压: DC 3.3V~5V 

工作电流: 20mA

最大功率: 0.1W

输出信号: 模拟信号

工作温度：-10°C ~ +50°C

尺寸：32mm x 23.8mm x 7.4mm

接口：2.54mm间距，3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/bc645075aeb9352893e06da13fecd2d4.png)

NTC-MF52AT模拟温度传感器主要由NTC-MF52AT热敏电阻元件组成。NTC-MF52AT热敏电阻元件能够感知周边环境温度的变化，随着温度的升高，热敏电阻的阻值降低，4.7K电阻两端的电压上升，从而引起信号端S的电压变化。

**NTC 热敏电阻温度计算公式：Rt = R * EXP( B * (1/T1-1/T2) ) 。**

其中，T1和T2指的是K度，即开尔文温度。K度=273.15(绝对温度)+摄氏度。

Rt 是热敏电阻在周围温度为T1（当前温度）时的电阻值。

R是热敏电阻在周围温度为T2常温（常温取25℃）时的标称阻值。参考规格书可知我们用的NTC-MF52AT模拟温度传感器在 25℃ 下热敏电阻的零功率电阻值为10KΩ ± 5%（即R=10K），T2=(273.15+25) 。

B值是热敏电阻的重要参数，为材料常数，在25℃下测得。参考规格书可知B值为 3950±1%。

EXP() 是e^()，e的n次方。

通过转换可以得到温度T1与电阻Rt的关系：T1=1 / (ln(Rt/R) /B+1/T2) ，这里可以将ln换算成log，即T1=1/ ( log(Rt/R)/B + 1/T2 ) 。

那么我们唯一需要知道的就是Rt的值。回到上面的原理图，设热敏电阻两端电压为VRt，固定的 R1电阻两端的电压为VR，由电阻分压知识VR/VRt = R1/Rt可以知道：Rt = R1 * (5.0-VR)/VR 。而我们实际得到的VR是转换后的模拟值，需要转换成电压值，即VR = AnalogValue / 1023 * 5.0。

**注意**：计算出来的温度是开尔文温度，因此需要减去K值，对应的摄氏温度 t = T1 - 273.15，同时加上0.5的误差矫正。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)  |![图片不存在](media/02075ba5d86485fa607a4f642b1675a0.png)  | ![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)       | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |    
| ------------------------ | --------------------------- | ---------------------------- |---------------------------- |
| 主板 x1| NTC-MF52AT模拟温度传感器 x1 | 3P线(反向) x1 | USB线 x1   |  
 
---

**5. 模块接线图**

![图片不存在](media/2232e12b27f4a7d6e94bba370ecc686f.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**15_Temperature_Sensor**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/e9d72b2eb799923fe90665802b4e1ae4.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

串口监视器打印出模拟温度传感器(热敏传感器)当前所处环境下的模拟值、电压值和温度值。

![图片不存在](media/da7892e25c0b145a89babb92952d78b0.png)

![图片不存在](media/2f79233d5e9e8d3ad59b9ec21517deda.png)

---

**8. 代码说明**

可以参照第12课的代码说明，这里就不多做介绍了。                 

---

第16课 测压力大小

**1. 项目介绍**

薄膜压力传感器是基于新型纳米压敏材料辅以舒适杨式模量的超薄薄膜衬底一次性贴片而成的，兼具防水和压敏双重功能。

通过采集模块上S端模拟信号，判断压力大小。模拟值越小，压力越大；并在串口监视器上显示测试结果。

---

**2. 模块参数**

工作电压: DC 3.3V~5V

工作电流: 0.5mA

最大功率: 0.0025W

量程: 0~10KG

响应点: 150g

重复性: ＜±9.7%（60%负载）

一致性: ±10%

耐久性: ＞100万次

初始电阻: 大于10MΩ(无负载)

响应时间: ＜1ms

恢复时间: ＜15ms

输出信号: 模拟信号

工作温度：-10°C ~ +50°C

尺寸：32mm x 23.8mm x 7.4mm

接口：2.54mm间距，3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/9dc8bcd4d6ed5986f24ab58f23f4f621.png)

当传感器感知到外界压力时，传感器的电阻值发生变化。薄膜压力传感器使用LM321运算放大器芯片将传感器感知到的压力变化的压力信号转换成相应变化强度的电信号输出。这样就可以通过检测电压信号变化得知压力变化情况。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)  |![图片不存在](media/47ae764c377f2a93c081f473586bbcca.png) |![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)    | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |      
| ------------------------ | ------------------------ | ---------------------------- | ---------------------------- |
|主板 x1   | 薄膜压力传感器 x1  |3P线(反向) x1 | USB线 x1  | 
   
---

**5. 模块接线图**

![图片不存在](media/80ba148a2cf5afcf4ad9d9609c1d8732.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**16_Film_Pressure_Sensor**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**


![图片不存在](./media/3dc70a016d121d027f3502a2cebd2f3d.png)


参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。为了使实验数据最精准，请将薄膜压力传感器尽量平放。

串口监视器打印出薄膜压力传感器的模拟值。用手按压薄膜时，随着压力的增大，可以看到模拟值逐渐变小。

![图片不存在](media/b64b2ffb693cb9c520b35a9056117640.png)

![图片不存在](media/035ac6fad43604bd04e84dd29d3ecae5.png)

---

**8. 代码说明**

可以参照第12课的代码说明，这里就不多做介绍了。


---


第17课 摇杆模块

**1. 项目介绍**

你看过游戏手柄吗？游戏手柄上有按键，还有摇杆。摇杆是什么工作原理呢？在我们这个套件中，就有一个摇杆模块，它的主要元件是PS2手柄摇杆。控制时，我们需要将模块的X引脚和Y引脚连接至单片机的模拟口。B引脚连接至单片机数字口，V引脚接至单片机电源输出端（3.3-5V），G引脚接单片机GND。通过读取两个模拟值和一个数字口的高低电平情况，可以判断模块上摇杆的工作状态。

---

**2. 模块参数**

工作电压: DC 3.3V~5V 

工作电流: 12mA

最大功率: 0.06W

输出信号: 信号端X、Y模拟电压输出(模拟信号)，信号端B是数字电平输出(数字信号) 

工作温度：-10°C ~ +50°C

尺寸：47.6mm x 23.8mm x 34.5mm

接口：2.54mm间距，5pin防反接口

---

**3. 模块原理图**

![图片不存在](media/3885f70899d9a0ed4e2e57294521cead.png)

其实摇杆模块的原理非常简单，内部相当于两个可调电位器（左右和上下）和一个按键。按键没有按下时被R1下拉为低电平，按下时接通VCC即为高电平，与我们前面学习过的按键模块的电平值是相反的。摇动摇杆时内部的电位器就会根据摇杆的摇动调节，从而输出不同的电压，可以读取到模拟值。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)  |![图片不存在](media/7a3bffdf74455717f81e49291a94535a.png) |![图片不存在](media/54d1e28b3b1bec156db70b15730b9e0e.png)       | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |     
| ------------------------ | ------------------------ | ---------------------------- |---------------------------- |
| 主板 x1      |   摇杆模块 x1 | 5P线(反向) x1 | USB线 x1  |      

---

**5. 模块接线图**

![图片不存在](media/466fa8ba793375babece6ae72590ae51.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**17_Joystick**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/c836689e65a11539f113b2b92f8b9f1b.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

串口监视器窗口将打印出当前摇杆X轴(X引脚)和Y轴(Y引脚)对应的模拟值以及Z轴(B引脚)对应的数字值，移动摇杆或按下它将改变串口监视器中的模拟值和数字值。当按下摇杆时，Button值为1；未按下摇杆时，Button值为0。X值从左到右由0增长到1023。Y值从下到上由0增长到1023。

![图片不存在](media/29803b1a37c2df6acdd8f364fd198c46.png)

![图片不存在](media/e2c250c9a611c8fa07a2b234476b25c4.png)

在X轴上移动摇杆，使数据从小到大。

![图片不存在](media/2293eb14ad4dba1e8d3e90de4a7269bc.png)

在Y轴上移动摇杆，使数据从小到大。

![图片不存在](media/085a6034eb3e76a91b8bb6ae38568b7a.png)

按下摇杆。

![图片不存在](media/bbc6695fe282a1b60a00b2afc3c225c8.png)

---

**8. 代码说明**

可以参照第03课和第12课的代码说明，这里就不多做介绍了。

---

第18课 SK6812 RGB

**1. 项目介绍**

第02课学习了激光模块，利用高低电平对模块的激光头进行点亮和熄灭的效果。我们这个套件中，还有一个SK6812 RGB模块，它是一个集控制电路与发光电路于一体的智能外控LED光源。每个LED原件其外型与一个5050LED灯珠相同，每个元件即为一个像素点，我们这个模块上有四个灯珠即四个像素点。

---

**2. 模块参数**

工作电压: DC 3.3V~5V

工作电流: 140mA

最大功率: 0.7W

光源: SMD 5050 RGB

IC型号: 4颗/WS2811

灰度等级: 256级

发光角度: 180°

发光颜色: 可以通过控制器调为白，红，黄，蓝，绿等

工作温度：-10°C ~ +50°C

尺寸：32mm x 23.8mm x 7.4mm

接口：2.54mm间距，3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/f1fcc7c94b65c84eaa97f730b4623f51.png)

从原理图中我们可以看出，这四个像素点灯珠串联，其实不论多少个灯珠串联，我们都可以用一个引脚控制其中任意一个灯让它显示任意一种颜色。每个LED原件其外型与一个5050LED灯珠相同，每个元件即为一个像素点。像素点内部包含了智能数字接口数据锁存信号整形放大驱动电路，还包含有高精度的内部振荡器和12V高压可编程定电流控制部分，有效保证了像素点光的颜色高度一致。

数据协议采用单线归零码的通讯方式，像素点在上电复位以后，S端接受从控制器传输过来的数据，首先送过来的24bit数据被第一个像素点提取后，送到像素点内部的数据锁存器。LED具有低电压驱动，环保节能，亮度高，散射角度大，一致性好，超低功率，超长寿命等优点。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)   | ![图片不存在](media/20045f4ff8b1171e01b98d503293b771.png) |![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)   | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |    
| ------------------------ | ------------------------ | ---------------------------- |---------------------------- |
|主板 x1   |  6812 RGB模块 x1 | 3P线(反向) x1 | USB线 x1 |   
   
---

**5. 模块接线图**

![图片不存在](media/4397e55108c145432d4341cfdf9481f8.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**18_SK6812_RGB**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/c127cb78c1f3a4f4a55681e1d30bc898.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，我们可以看到模块上的4个RGB LED亮出对应的颜色灯的效果。

![图片不存在](media/e762157c9555362cde5d86eb32c3daca.png)

![图片不存在](media/dd2e9b86e2dec66cdceefe25577a3023.png)

![图片不存在](media/6b0ffac852d2e185c9d2787e38b65d38.png)

......

---

**8. 代码说明**

![图片不存在](./media/a655b840970f12d65bd437a7018a93e4.png)

设置SK6812 RGB的管脚，灯号和RGB灯珠点亮的颜色值。如果R、G、B值都为0，则熄灭所有的灯珠。

---

第19课 旋转编码器计数

**1. 项目介绍**

旋转编码器模块，也叫开关编码器、旋转编码器。此款编码器有20脉冲20定位点、15脉冲30定位点两种。编码器主要用于汽车电子、多媒体音响、仪器仪表、家用电器、智能家居、计算机周边、医疗器械等领域。主要用于频率调节、亮度调节、温度调节、音量调节的参数控制等。

---

**2. 模块参数**

工作电压: DC 3.3V~5V 

工作电流: 2mA

最大功率: 0.01W

控制信号: 数字信号

工作温度：-10°C ~ +50°C

尺寸：32mm x 23.8mm x 30.6mm

接口：2.54mm间距，5pin防反接口

---

**3. 模块原理图**

![图片不存在](media/e17e28023de93c40ab9c94468ecf0a06.png)

增量式编码器是将位移转换成周期性的电信号，再把这个电信号转变成计数脉冲，用脉冲的个数表明位移的巨细。旋转编码器模块采用的是20脉冲旋转编码器元件，它可以通过旋转计数正方向和反方向转动过程中输出脉冲的次数，这种转动计数是没有限制的，复位到初始状态，即从0开始计数。

旋转编码器提供两种交互方式：

- **按钮**   单击旋钮以按下按钮。按下时，按钮将 SW 引脚与 GND 引脚连接，也就是SW引脚的电平为低电平。

- **旋转**   每次旋转旋钮时，会在 DT 和 CLK 引脚上产生一个 LOW 信号。
  
    - 顺时针旋转会导致 CLK 引脚首先变低，然后 DT 引脚也变低。
    
    - 逆时针旋转会导致 DT 引脚先变低，然后 CLK 引脚变低。
    
    两个引脚将在几毫秒内返回高电平。如下图所示：
    
    ![图片不存在](media/359176d62bcd334bea02e41e705b2b3c.png)

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)   |![图片不存在](media/e9b4a64c8931991106d802d5266389b7.png) |![图片不存在](media/54d1e28b3b1bec156db70b15730b9e0e.png)  | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |     
| ------------------------ | ------------------------ | ---------------------------- |---------------------------- |
|主板 x1|   旋转编码器模块 x1  |5P线(反向) x1 | USB线 x1  |     

---

**5. 模块接线图**

![图片不存在](media/045401e6dc11053eac2d810b029411b3.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**19_Encoder**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/206c57ea4b8f61296a84429cea2f81e7.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

顺时针旋转编码器，串口监视器打印出来的数据 **<u>增大</u>**；逆时针旋转编码器，串口监视器打印出来的数据 **<u>减小</u>**；按下编码器中间按键，串口监视器打印 “**<u>Button pressed!</u>**”。

![图片不存在](media/1cbb3c7e178b6d848806e161a60faddd.png)

![图片不存在](media/5b60e11177c301c94ef9e2e3701aee0c.png)

---

**8. 代码说明**

![图片不存在](./media/e9068f74dd61e4c43293f97dc8afda53.png)

初始化编码器的 CLK 和 DT 引脚所连接的 Arduino 引脚。

![图片不存在](./media/11a80e16f5506619b747de91a46c17b6.png)

设置旋转编码器的位置处于0处。

![图片不存在](./media/4eafecd68ecef8e72e9c5157cab27002.png)

定义一些变量Button和btn_state.

![图片不存在](./media/e72a2b25d397395e71b85d9544efe90a.png)

向左（即：顺时针）旋转编码器，数字逐渐增加1，并换行串口打印出。

![图片不存在](./media/932aef414308d5bae84fac78d41af231.png)

向右（即：逆时针）旋转编码器，数字逐渐减少1，并换行串口打印出。

![图片不存在](./media/6e30521559d755ddf622c43e069ac311.png)

按下旋转编码器按键，读取按钮开关并对其进行去抖。我们首先读取当前按钮状态，当它变为低电平时，我们等待 10 毫秒，让按钮去抖。串口打印“Button pressed!”。


---

第20课 舵机转动

**1. 项目介绍**

之前，我们学习了如何控制电机的速度和旋转方向。在本实验中，我们将学习伺服（舵机）系统，它是一种旋转驱动器类型的电机，可以控制旋转到特定的角度。

---

**2. 模块参数**

工作电压: DC 3.3V~5V 

工作温度：-10°C ~ +50°C

尺寸：32.25mm x 12.25mm x 30.42mm

接口：2.54mm间距，3pin接口

---

**3. 模块原理图**

舵机密封包装，由直流电机，一套提供扭矩的变速齿轮组，可调电位器和电子控制板组成。

![图片不存在](media/e2ec79efef8c50ccdda1bb774589cf7f.png)

多数舵机只能旋转180度，舵机输出的转矩比简单直流电动机更高。被广泛用于控制模型汽车、模型飞机、机器人等。舵机一般有三线，通常连接到公或母3拼线。其中两线用于电源：正极（2-正极线，红线)，负极（3-负极线，棕线），以及一个信号线（1-信号线，橙线）。如图，套件中的舵机：

![图片不存在](media/166b26778b457236fa71a1d60ca44b7f.png)

我们使用PWM信号驱动舵机，该信号占空比一定，频率为50Hz。PWM单个周期高电平持续时间为0.5ms ~ 2.5ms，与舵机角度的0° ~ 180°线性对应。部分对应值如下：

![图片不存在](media/768d0e959d219ab25bc45b112a6672b8.png)

改变舵机信号值，舵机将旋转到指定角度。

<span style="color: rgb(255, 76, 65);">注意:</span> 由于舵机品牌不同，对于同一信号，不同品牌的舵机旋转的角度也会有所不同。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) |![图片不存在](media/460ec103035638e948d2b1a272e62178.png)   | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |
| ------------------------ | ------------------- | --------------------- | 
| 主板 x1 | 舵机驱动模块 x1|USB线 x1  |
|![图片不存在](media/25f82bd1b415a8203a32392488131376.png)   |![图片不存在](media/1ff24756e347dcc14db599711e89d922.png) |     |
| 舵机 x1 | 4P线(反向) x1|           |

---

**5. 实验①**

（1）实验接线图

![图片不存在](media/be99eaeb5a01bb3d26d9f161408fac8b.png)

（2）实验代码

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**20.1_Servo**"。

![图片不存在](./media/d48efc97cb97de03006be2ee0c8b9ca3.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

（3）实验结果

代码上传成功后，拔下USB线断电，按照接线图正确接好舵机，再用USB线连接到计算机上电。上电后，舵机由0度转到90度，停顿1秒；再转到180度，停顿1秒；然后回到0度，停顿1秒，循环转动。

![图片不存在](media/9df049745be9a537b6620534a42722c5.png)

![图片不存在](media/4541889013de63c3a024c6e5c3503831.png)

![图片不存在](media/2c634b18c4d80e2d2047f097d0aaccf9.png)

---

**6. 实验②**

（1）实验接线图

![图片不存在](media/be99eaeb5a01bb3d26d9f161408fac8b.png)

（2）实验代码

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**20.2_Servo**"。

![图片不存在](./media/0d9fa16b09d71768c2e06dddeaf0fda8.png)

（3）实验结果

代码上传成功后，拔下USB线断电。按照接线图正确接好舵机，再用USB线连接到计算机上电，上电后，舵机在0度 ~ 180度之间来回转动，每15ms转动一度。

![图片不存在](media/9df049745be9a537b6620534a42722c5.png)

![图片不存在](media/4541889013de63c3a024c6e5c3503831.png)

![图片不存在](media/2c634b18c4d80e2d2047f097d0aaccf9.png)

---

**7. 代码说明**

![图片不存在](./media/a1d2c424b45f8bf6586dfe016ebc396d.png)

Arduino专门为了主板推出的servo库，用来操作舵机。创建一个舵机对象来控制舵机，设置控制舵机的引脚和转动的角度。

![图片不存在](./media/eda7b95fe26bc4d82225092f164959b4.png)

向舵机写入一个数值，来直接控制舵机的轴，角度控制。舵机转动到posVal角度值，舵机每隔15毫秒转动一次，角度逐渐增加1°。

![图片不存在](./media/2a725684a1bfc7cb021fa92054c520fb.png)

向舵机写入一个数值，来直接控制舵机的轴，角度控制。舵机转动到posVal角度值，舵机每隔15毫秒转动一次，角度逐渐减少1°。

---

第21课 超声波测距

**1. 项目介绍**

蝙蝠和某些海洋动物都能够利用高频率的声音进行回声定位或信息交流。它们能通过口腔或鼻腔把从喉部产生的超声波发射出去，利用折回的声波来定向，并判定附近物体的位置、大小以及是否在移动。超声波是一种频率高于20000赫兹的声波，它的方向性好，穿透能力强，易于获得较集中的声能，在水中传播距离远，可用于测距、测速、清洗、焊接、碎石、杀菌消毒等。在医学、军事、工业、农业上有很多的应用。超声波因其频率下限大于人的听觉上限而得名。科学家们将每秒钟振动的次数称为声音的频率，它的单位是赫兹(Hz)。

在这个套件中，有一个HC-SR04超声波传感器，它可以发送出一种频率很高的人类无法听到的超声波信号，这些超声波的信号碰到障碍物，就会立刻反射回来。在接收到返回的信息之后，根据发射信号和接收信号的时间差，计算出传感器和障碍物的详细距离，和蝙蝠飞行的原理一样。

---

**2. 模块参数**

超声波传感器工作电压：DC 5V 

超声波传感器工作电流：15mA

超声波传感器工作频率：40Hz

超声波传感器射程范围：2cm~4m

超声波传感器测量角度：<= 15度

超声波传感器输入触发信号：10 uS 的TTL脉冲

超声波传感器输出回响信号：输出TTL电平信号与射程成正比

工作温度：-10°C ~ +50°C

超声波传感器尺寸：45.5mm x 26.7mm x 17.6mm

超声波转接板模块尺寸：32mm x 23.8mm x 18.5mm

超声波转接板模块接口：2.54mm间距，4pin防反接口

---

**3. 模块原理图**

最常用的超声测距的方法是回声探测法。当有脉冲电压触发时（单片机给Trig引脚发送高电平），超声波发射器探头里的晶片就会振动，继而产生超声波。在超声波发射时刻的同时计数器开始计时，超声波在空气中传播，途中碰到障碍物面阻挡就立即反射回来（Echo引脚发送高电平信号给单片机），超声波接收器收到反射回的超声波就立即停止计时。

超声波是一种声波，其声速V与温度有关。一般情况下超声波在空气中的传播速度为340m/s，根据计时器记录的时间t，就可以计算出超声波探头发射点距障碍物面的距离s，即：s=340t/2 。

![图片不存在](media/31b675aa9eaedc87e9eaccf110bf3956.png)

HC-SR04超声波测距模块可提供范围为2厘米至4米的非接触式距离感测功能，测距精度可达高到3mm。超声波传感器包括超声波发射器、超声波接收器与控制电路。其基本工作原理：

(1)采用IO口Trig触发测距，给至少10us的高电平信号;

(2)模块自动发送8个40khz的方波，自动检测是否有信号返回；

(3)有信号返回，通过IO口Echo输出一个高电平，高电平持续的时间就是超声波从发射到返回的时间。

![图片不存在](media/536617830d23d47cc74e5b9c37d9402a.png)

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)  |![图片不存在](media/d527053929462c5025cbb77b63af8c8e.png) |  ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |
| ------------------------ | ------------------------ | ---------------------------- |
|主板 x1  | 超声波转接模块 x1 |  USB线 x1|
![图片不存在](media/9cf8c08b3226a4b79005700830303d79.png) | ![图片不存在](media/1ff24756e347dcc14db599711e89d922.png) |     |
|HC-SR04 超声波传感器 x1 | 4P线(反向) x1 |    |

---

**5. 模块接线图**

![图片不存在](media/1a4383e3a89df2eb82a5616802b61a8d.png)

![图片不存在](media/488b579168d4b9c1f15aff878ab499f7.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**21_Ultrasonic**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/a7c7646f751a0ffb0831a9d2f274708f.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

放置障碍物在超声波传感器探头前感应，串口监视器窗口打印出超声波传感器与障碍物之间的距离值。

![图片不存在](media/c46db41726121c323b7d1f30572c0fc0.png)

![图片不存在](media/e7e5c358e156eb7ac5cbd66d3391b250.png)

---

**8. 代码说明**

![图片不存在](./media/7c6d139322e7d5b3c680f42bac0e2ee1.png)

这是用于向指定引脚测量距离的超声波传感器指令方块，距离单位为cm。

---

第22课 红外遥控与接收

**1. 项目介绍**

红外线遥控是目前使用最广泛的一种通信和遥控手段。因红外线遥控装置具有体积小、功耗低、功能强、成本低等特点，录音机、音响设备、空凋机以及玩具等其它小型电器装置上纷纷采用红外线遥控。红外遥控的发射电路是采用红外发光二极管发出经过调制的红外光波；红外接收电路由红外接收二极管、三极管或硅光电池组成，它们将红外发射器发射的红外光转换为相应的电信号，再送到后置放大器。

红外接收模块选择的是VS1838B红外接收传感器元件，该元件是集接收、放大、解调一体的器件，内部IC就已经完成了解调，输出的就是数字信号。它可接收标准38KHz调制的遥控器信号。

---

**2. 模块参数**

工作电压: DC 3.3V~5V 

工作电流: 1.5mA

最大功率: 0.25 W

工作温度：-10°C ~ +50°C

控制信号: 数字信号

尺寸：32 x 23.8 x 10.8 mm

接口：2.54mm间距，3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/ddee2b72e660b9ec932d2ed9fa24d1cb.png)

红外遥控系统的主要部分为调制、发射和接收。红外遥控是以调制的方式发射数据，就是把数据和一定频率的载波进行“与”操作，这样既可以提高发射效率又可以降低电源功耗。调制载波频率一般在30khz到60khz之间，大多数使用的是38kHz，占空比1/3的方波。红外接收的信号端加上了4.7K的上拉电阻R3，工作时，首先等待检测低电平，接收到信号后，信号端立即由高电平转为低电平。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)   | ![图片不存在](media/68a8618879423c0a54d0ea10f7f65258.png) | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |  
| ------------------------ | ------------------------ | -------------------------------- |
| 主板 x1   | 红外接收模块 x1  | USB线 x1  |
|![图片不存在](media/aa263684292be588142e139e5d944991.png) | ![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png) |    | 
| Keyes 遥控器 x1  | 3P线(反向) x1 |    |

---

**5. 模块接线图**

![图片不存在](media/9c9beaa27ce065e77ca09ae54c00b575.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**22_IR_Receiver**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/d0d41eeacc25e86eb4d661bca23fe2a8.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

找到红外遥控器，拔出绝缘片。对准红外接收模块的红外接收传感器的接收头，按下遥控器任意按键，接收到信号后，串口监视器窗口打印出当前接收到的按键值，同时，红外接收传感器上的LED会闪烁。

![图片不存在](media/bf0c112824f595a839033eb4c443e195.png)

![图片不存在](media/f41ae3f8511a20bc0ed449e05e2db598.png)


Keyes 遥控器上每一个按键都对应着一个按键值，如下图所示。

![图片不存在](media/e4860090c77e27398ad19884c86c91c9.png)

---

**8. 代码说明**

![图片不存在](./media/2fd3e69fb36d6689bb7c068e81edc2a9.png)

用于向指定引脚初始化红外接收，接收到红外遥控的数据，读取红外接收数据的指令方块，刷新红外接收数据，并接收下一个值的指令方块。

![图片不存在](./media/1242638752e31bd983b8482fbd835097.png)

红外接收的数据以十六进制自动换行打印出来。

---

第23课 检测温湿度

**1. 项目介绍**

XHT11温湿度传感器是一款低价的入门级温湿度传感器，它主要由一个电阻式感湿元件和一个NTC测温元件组成。XHT11为4针单排引脚封装，采用单线制串行接口，只需加适当的上拉电阻，信号传输距离可达20米以上，XHT11温湿度传感器具有超快响应、抗干扰能力强、性价比极高等优点。

---

**2. 模块参数**

工作电压: DC 3.3V~5V 

工作电流: 2.1mA

最大功率: 0.015W

温度范围: -25 ~ +60°C (± 2℃)

湿度范围: 5 ~ 95%RH（25C°左右精度为±5%RH）

输出信号: 数字双向单总线

工作温度: -25°C ~ +60°C

尺寸：32mm x 23.8mm x 9.7mm

接口：2.54mm间距，3pin防反接口

---

**3. 模块原理图**

![图片不存在](media/771ad05f1f5908cee98a8bdcd7cdaa11.png)

单片机与 XHT11之间的通讯和同步,采用单总线数据格式,一次通讯时间4ms左右,数据分小数部分和整数部分,具体格式在下面说明,当前小数部分用于以后扩展,现读出为零，操作流程：一次完整的数据传输为40bit，高位先出。

**数据格式：** 8bit湿度整数数据+8bit湿度小数数据+8bi温度整数数据+8bit温度小数数据+8bit校验和。

**8位校验和：** 8bit湿度整数数据+8bit湿度小数数据+8bi温度整数数据+8bit温度小数数据"相加所得结果的末8位。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)   |![图片不存在](media/65e0cd99d69eb4c74ce5d1be531bf263.png)  |![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png) | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |      
| ------------------------ | -------------------------- | ---------------------------- |---------------------------- |
| 主板 x1  | XHT11温湿度传感器 x1 | 3P线(反向) x1 | USB线 x1 |   
   
---

**5. 模块接线图**

![图片不存在](media/a9169254ee48010839003dbded427706.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**23_XHT11**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/d4ba5bd3bda037be4e599e844a0f655f.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

串口监视器打印出XHT11温湿度传感器检测到当前环境的温湿度值。

![图片不存在](media/7464eb4f640ad88c90c36135dff4e448.png)

![图片不存在](media/c2f472d6140ce6258a7ecf629dd047dd.png)

---

**8. 代码说明**

![图片不存在](./media/76e0bcdf56bfddc1e7522183cc9688da.png)

初始化温湿度传感器的管脚和型号，这里型号选用dht11.

![图片不存在](./media/e5f71f18b57f9abb4253655e444847e2.png)

读取温度或湿度。

---

第24课 四位数码管显示数字

**1. 项目介绍**

TM1650四位数码管模块选用的是0.36 英寸红色共阴4位数码管，其驱动芯片是TM1650。TM1650是一种带键盘扫描接口的LED驱动控制专用电路的芯片。内部集成有MCU输入输出控制数字接口、数据锁存器、LED 驱动、键盘扫描等电路。TM1650性能稳定、质量可靠、抗干扰能力强，可适用于24小时长期连续工作的应用场合。TM1650采用两线串行传输协议通讯（注意：该数据传输协议不是标准的I2C协议）。该芯片只需要通过两个引脚与MCU通讯就可以完成数码管的驱动，可以节省MCU引脚资源。

实验中使用TM1650四位数码管模块时，我们只需要2根信号线即可使单片机控制4位数码管，大大节约了控制板IO口资源。

---

**2. 模块参数**

工作电压: DC 3.3V~5V 

工作电流: 42mA

最大功率: 0.21W

数码管显示颜色: 红色

LED极性: 共阴

通讯方式：2线高速串行接口（CLK,DAT）

工作温 ：-10°C ~ +50°C

尺寸：47.6mm x 23.8mm x 10.6mm

接口：2.54mm间距，4pin防反接口

---

**3. 模块原理图**

![图片不存在](media/eb07787502bbaf0c14131d016f2883d6.png)

TM1650与MCU之间的通讯采用2线高速串行接口（CLK,DAT），这两个连线分别是数据线DAT和同步时钟线CLK。其中DAT为双向数据传输线，TM1650既用该线从MCU接收数据，也用该线向MCU发送数据。

实验中我们使用封装好的库函数。如果大家有兴趣也可以接着往下学习了解 3.1 TM1650通讯时序格式和 3.2 指令集说明，然后再去了解底层的库函数是如何实现的。

3.1 TM1650通讯时序格式

TM1650采用下图1 中2线串行传输协议通讯：

![图片不存在](media/63aed00d97b389cfb15c1debb49d2db2.png)

（1）开始信号（START）/结束信号(STOP)

开始信号：保持 CLK 为“1”电平，DAT 从“1”跳“0”，认为是开始信号，如上图1的 A 段；

结束信号：保持 CLK 为“1”电平，DAT 从“0”跳“1”，认为是结束信号，如上图1的 E 段；

（2）ACK 信号

如果本次通讯正常，芯片在串行通讯的第 8 个时钟下降沿后，TM1650 主动把 DAT 拉低，直到 CLK 检测到上升沿，DAT 释放为输入状态（对芯片而言）,如上图1的 D 段。

（3）写“1”和写“0”

写“1”：保持 DAT 为“1”电平，CLK 从“0”跳到“1”,再从“1”跳到“0”，则认为是写入“1” ，如上图 1的 B 段。

写“0”：保持 DAT 为“0”电平，CLK 从“0”跳到“1”,再从“1”跳到“0”，则认为是写入“0” ，如上图 1的 C 段。

（4）一个字节（8 位）数据传输格式

![图片不存在](media/e45148b601dce0fd7da8fbc2102dec94.png)

一个字节数据的传输格式如图上 2，数据发送时 MSB 在前，LSB 在后，即高位先进。微处理器的数据通过 2 线 串行接口和 TM1650 通信，当 CLK 是高电平时，DAT 上的信号必须保持不变；只有 CLK 上的时钟信号为低电平时， DAT 上的信号才能改变。数据输入的开始条件是 CLK 为高电平时，DAT 由高变低；结束条件是 CLK 为高时，DAT 由低电平变为高电平。 

（5）写显示操作

![图片不存在](media/4cb3281cedff66fc96ab3da75613e1cb.png)

ADDRESS：显示地址（68H、6AH、6CH、6EH）； 

DATA：显示数据。

（6）完整操作时序

![图片不存在](media/e20965db007aede711bf45bbef19852c.png)

command1：系统命令 48H； 

command2：系统参数设置；

ADDRESS：显示地址（68H、6AH、6CH、6EH）；

DATA：显示数据。

备注：

1.设置系统参数和写入显存数据是两个独立的过程，它们之间的顺序不影响实际应用； 

2.每次输入系统命令（48H）和系统参数设置命令都会改变系统参数，请特别注意待机指令操作。

3.2 指令集说明

（1）数据命令设置 

![图片不存在](media/b0f8e205f12653928030259e0130f330.png)

<span style="color: rgb(255, 76, 65);">注意：</span>使用的指令是 16 进制 H，输入数据和读取数据都是从高位开始。

所以在代码中我们数据命令设置为 0x48，使用TM1650点亮数码管的功能，而不使用按键扫描的功能。

（2）显示命令设置

![图片不存在](media/3e186d039da931602afd3c387500635a.png)

<span style="color: rgb(255, 76, 65);">注意：</span>在发送上述系统显示命令前需要先输入系统命令48H,如48H+11H=1级亮度开屏显示。

B[7:0]：这里实际是一个字节数据，只是不同位部分代表不同功能。

B[6:4]：设置数码管亮度。注意：000 最亮。

B[3]：设置是否显示小数点。

B[0]：设置数码管的开屏、关屏。

（3）显存地址

![图片不存在](media/722fb054625407eaa3a3112e820c2520.png)

如果要显示小数点，则必须先需要将段模式设置为 8 段输出。

![图片不存在](media/b5a4d24dc937f71e1effef03475f2487.png)

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)  |![图片不存在](media/5c6233a12f9e14a0ebabfd07f4c5a33f.png)| ![图片不存在](media/1ff24756e347dcc14db599711e89d922.png)       | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |     
| ------------------------ | ----------------------------- | ---------------------------- |---------------------------- |
|主板 x1   |TM1650四位数码管模块 x1  | 4P线(反向) x1 | USB线 x1| 
  
---

**5. 模块接线图**

![图片不存在](media/30f7a10180a301914de57cd6b9a4708e.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**24_Four_Digita_Tube**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/0da6cd8b33d99ba0c102019b01f14220.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电。按照接线图正确接好模块后再用USB线连接到计算机上电。4位数码管显示数字，从0000开始，每隔1秒逐渐到9999。

![图片不存在](media/a45329401dd9f16702afb19c7e5268eb.png)

---

**8. 代码说明**

![图片不存在](./media/64767220962058b4d56babdf6e2b0532.png)

初始化四位数码管，清除原来显示的内容。

![图片不存在](./media/5652535d94cea1a10d9210fa13427634.png)

四位数码管显示字符串。

---

第26课 点阵显示图案

**1. 项目介绍**

点阵，多个LED组成的阵列，它们的集合称为“阵”，其中单个单元称为“点”。8 X 8点阵共由64个发光二极管组成，且每个发光二极管是放置在行线和列线的交叉点上。

第02课我们学习了一个IO口控制一个激光模块上的激光头，这节课我们来学习用更少的IO口控制更多的led。

---

**2. 模块参数**

工作电压: DC 3.3V~5V 

工作电流: 190mA

最大功率: 0.95W

通讯方式：I2C通讯

I2C通信地址：0X70

点阵屏显示颜色：蓝色

工作温度：-10°C ~ +50°C

尺寸：32mm x 23.8mm x 9.3mm

接口：2.54mm间距，4pin防反接口

---

**3. 模块原理图**

![图片不存在](media/f1417ace9ff97a4031e4e9c740bd4a3a.png)

如原理图所示，如果想要点亮第一行第一列的LED灯，只需要将C1置高电平、R1置低电平就可以了。如果我们想让第一行led全部点亮，只需要将R1置为低电平，C1~C8全部置为高电平就可以了。原理非常简单，但是这样设置的话我们总共需要用到16个IO口，非常浪费单片机资源。为了节省IO口不浪费单片机资源，我们特别设计了这个HT16K33_8X8点阵模块，利用HT16K33芯片驱动1个8*8点阵，只需要利用单片机的I2C通信端口就能控制点阵的64个发光二极管。

我们这款Keyes HT16K33_8X8点阵模块已经固定了通信地址，地址为0x70。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)    |![图片不存在](media/58efefbc64ef910d3df39f069eddc788.png) | ![图片不存在](media/1ff24756e347dcc14db599711e89d922.png) | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |     
| ------------------------ | ---------------------------- | ---------------------------- |---------------------------- |
| 主板 x1   | HT16K33_8X8点阵模块 x1 |4P线(反向) x1 | USB线 x1 | 


---

**5. 模块接线图**

![图片不存在](media/9a0681357a014b3861fd2031f996e4a3.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**25_8×8_Dot_Matrix**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/d4c8d76e0714d9026171e4bbe509ec73.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电。按照接线图正确接好模块后再用USB线连接到计算机上电。HT16K33_8X8点阵模块的（0，0）处LED闪烁，（7，7）处LED闪烁，显示“十”字图案和“❤”图案。

![图片不存在](./media/93feffeae77679eef6519fca33f68906.png)

![图片不存在](./media/b5fcd4e6d00dd89e59529f3641f0acff.png)

......

![图片不存在](./media/87df54c31bb34723bde03aca63e8755f.png)

---

**7. 代码说明**

![图片不存在](./media/d73515d3e4565fe5c373946ae9ce056b.png)

初始化8*8点阵。

![图片不存在](./media/449f09094bf65760fa924f4ccdb00ca7.png)

熄灭8*8点阵上所有的LED

![图片不存在](./media/6d8fc51aa02a91bbd807fc0cfdd8e1f6.png)

设置8*8点阵上某个LED点亮或熄灭。

![图片不存在](./media/8ae397bdbb978ee5f3bedab12347073e.png)

8*8点阵显示字符。

![图片不存在](./media/6f85fac944a8b3d4a0fff5a81dd185ca.png)

设置点亮8 * 8点阵上LED灯，打“√”表示该LED点亮，未打“√”表示该LED灯熄灭。这个方块可以设置8 * 8点阵显示的图案。

---

第26课 TFT 屏显示

**1. 项目介绍**

在这个套件中，有一款完全兼容Arduino IDE开发环境的主板，主板上集成了一块1.8寸TFT显示屏。TFT显示屏的分辨率为128 * RGB * 160，显示方向可以调整，横屏竖屏均可。TFT显示屏的驱动IC为ST7735S，采用SPI通信方式，具有显示效果好。

---

**2. 模块参数**

材料：TFT LCD

工作电压：3.3V~5V

TFT可视角度：120度

像素个数：128列 × 160行

分辨率：128 ×（RGB）× 160

通信方式：SPI通信

驱动芯片：ST7735S

总功耗：0.11W

工作温度：-10℃~+60℃

显示类型：a-Si TFT

背光：2片LED，平行

视角：12H

尺寸：1.8寸

---

**3. 模块原理图**

![图片不存在](media/f7b0ed8be9952286cc8a9160ac03da7b.png)

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |  
| ------------------------ | --------------------------- |
| 主板 x1| USB线 x1 |
      
---

**5. 模块接线图**

![图片不存在](media/dd57d3e66c178f6a71834596b170456e.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**26_TFT_Screen**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/38a890368cfc21f1ebe198ee97edcb6d.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电。按照接线图正确接好模块后再用USB线连接到计算机上电，TFT显示屏依次显示如下：

![图片不存在](./media/b27d484bbfcd4bfe1c86f5bae9f8fdd5.png)

![图片不存在](./media/dfc74273e326e6279d9a75d1534d427b.png)

......

![图片不存在](./media/e4f76f6cfbb856794267f9be1d028b0b.png)

![图片不存在](./media/dda7bc5d7ab4726401afeb0a19fa00c6.png)

---

**8. 实验说明**

![图片不存在](./media/ce0669d7837a4a7f57a8e3591c0102e3.png)

初始化TFT屏管脚和标签。

![图片不存在](./media/a44e74780b3c9b15691ef7f6657dcb82.png)

设置TFT屏背景色。

![图片不存在](./media/caf7fa17ad5ebf56b2eb450244486e2e.png)

设置TFT屏在起点x 起点y 显示文本(内容)颜色。

![图片不存在](./media/0a0b30646ef41f1963074345a2e55c4e.png)

设置TFT屏显示英文字体，字号和字形。

![图片不存在](./media/a36d45231571c3e1b3a6877f0305fc78.png)

设置TFT屏在某两个位置之间画直线。

---


第27课 检测手势方向

**1. 项目介绍**

PAJ7620U2手势识别传感器是可以识别9种不同方向的手势，包括上、下、左、右、前、后、顺时针、逆时针、摇摆。手势识别模块使用i2c接口，使用相应arduino库函数即可编程控制，手势识别模块返回的信号可用作为机器人接收的控制信号，从而实现对机器人的控制。内置的识别算法相当智能，能够把双手从生硬的按键中解放出来。手势识别传感器可用于非接触式控制场景，如非接触式鼠标，智能家居，汽车点击设备控制，机器人交互等。

---

**2. 模块参数**

工作电压：DC 3.3V~5V

工作电流：0.1mA

最大功率：0.0005W

识别距离：5cm~15cm

通讯方式：I2C通信

9种手势识别:

![图片不存在](./media/ef7cfeb459f73ed6e3b48dcbb0947e65.png)

尺寸：31.6mm x 23.8mm x 9.3mm

接口：IIC接口和2.54mm间距，5pin防反接口 (INT引脚可不接)

---

**3. 模块原理图**

![图片不存在](./media/f2a81d10873ea28cdaf0a3120eaff518.png)

PAJ7620U2手势传感器的工作原理是基于红外线反射和类似微软Kinect的深度视觉技术实现的。

它使用一个由红外发光二极管（IR-LED）和一对红外光传感器（IR photodiode）组成的衍射贴片（Diffraction Gratings）矩阵来发射和接收红外光信号，这样可以让传感器从各个角度接收到反射回来的红外线。当用户握手、挥手或移动其他体部，手或者身体会产生细微的变化，这些变化会导致返回传感器的反射光强度和相位发生变化。PAJ7620U2手势传感器通过计算这些光学特征的变化来识别不同的手势并跟踪其运动轨迹。

与此同时，PAJ7620U2还使用类似Kinect的深度视觉技术，来辅助判断物体和用户之间的距离。 它可以通过红外光投射在用户身上产生的影子来获得深度信息。PAJ7620U2将反射和深度信息结合起来进行处理，可以更加精确地识别大量的手势。

因为它不需要用户直接接触设备，所以可以提供更加方便、舒适和卫生的交互方式。同时，PAJ7620U2的应用范围较广，不受环境光、皮肤颜色等因素的干扰，适用于室内、室外等不同场景。

---

**4. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)   |![图片不存在](media/8425803c1fcced60af9b58b40c9b72bd.png) |![图片不存在](media/3c2ec52b7de97d4e4d1ff02bad590a30.png)       |![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg)    |    
| ------------------------ | ------------------------ | ---------------------------- |---------------------------- |
| 主板 x1  |PAJ7620手势识别传感器 x1 | 4P转5P线(反向) x1 |USB线 x1  |   
     

---

**5. 模块接线图**

![图片不存在](media/2a25cb97dde8280d7d9929e2e04589c0.png)

---

**6. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**27_PAJ7620U2_Gesture_Recognition**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/9bf0e8396f47346b3643d62b0d12619b.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**7. 实验结果**

代码上传成功后，拔下USB线断电。按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**，当我们在传感器前方摆动手势时，串口监视器上将显示我们对应的手势，如下图。(<span style="color: rgb(255, 76, 65);">注意：在我们测试手势时会有大约0.8秒的延迟。</span>)

![图片不存在](media/a5a9342f596a9d2acd241052a47c5a27.png)

![图片不存在](media/92f5929a1a010172a5b6e16c52ed3d38.png)

![图片不存在](media/e04d6cd2ec7ca7d5ee81150cd4821245.png)

若代码上传成功后串口监视器不打印数据信息，尝试按一下RESET键。

![图片不存在](media/91f89a88ebeff51ff65a7113ded3d2e4.jpg)


---

**8. 代码说明**

![图片不存在](./media/060eac73b6336a622cb733b3a2723dd5.png)

初始化paj7620。

![图片不存在](./media/da8f9397263178eca25025923ef0cd74.png)

读取手势值（手势方向）。

---

## 4. 传感器/模块组合项目课程

前面课程中，我们单独测试了传感器/模块的功能，功能比较单一。在此，我们可以将多个传感器/模块搭配使用，组合出各种各样的功能。传感器/模块种类比较多，我们只是选择几款比较经典的组合实验。你们也可以根据自己的想法，自己设置代码，组合出你想要的特别的功能。

---

第28课 模拟小台灯

**1. 项目介绍**

从前面的实验课程中我们学习了自锁按键模块，按下自锁按键时，单片机读取到低电平；再次按自锁按键（按起自锁按键）时，读取到高电平。在这一实验课程中，我们将自锁按键模块和SK6812 RGB模块组合模拟小台灯，实现按下自锁按键时，SK6812 RGB模块点亮；再次按下自锁按键（按起自锁按键）时，SK6812 RGB模块不亮。

---

**2. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)  |![图片不存在](media/628fac0d8bdcd43d93afc13ae228177c.png)|  ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |
| ------------------------ | ------------------------ | ------------------------ | 
| 主板 x1   | 自锁按键模块 x1    |USB线  x1  |
| ![图片不存在](media/20045f4ff8b1171e01b98d503293b771.png) | ![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png) |      |
|  SK6812 RGB模块 x1  | 3P线(反向) x2 |    |

---

**3. 模块接线图**

![图片不存在](media/cc70854b8c1ac80b1edeacb96beb8e51.png)

---

**4. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**28_Small_Table_Lamp**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/88f9e4db98186660c7821d18d24ea08b.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**5. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，按下自锁按键，SK6812 RGB模块点亮，再次按下自锁按键(自锁按键按起)，SK6812 RGB模块不亮。循环进行。

![图片不存在](media/8cd70574fe1360a96504cc8f402f4140.png)

---

**6. 代码说明**

![图片不存在](./media/5de8ead57dfe7f9265ac7969786f8da1.png)

读取自锁按键的值并将其值赋给变量val。

![图片不存在](./media/5c3b48d2ceaf785f4fac291c946ea57e.png)
 
这是判断语句，“如果”后面的表达式为真，则运行“执行”后面的代码。“如果”后面的表达式为假 ，则运行“否则”后面的代码。 

![图片不存在](./media/a65feeddd0a56f3865475495bd4983b6.png)

SK6812 RGB模块上4个LED灯珠都亮白灯。

![图片不存在](./media/a155c5dac2d2d1348bd7aef3f0e7c04e.png)

SK6812 RGB模块上4个LED灯珠都不亮。

---

第29课 自动感应门

**1. 项目介绍**

在前面实验课程中中，我们使用一个输入模块控制另一个输出模块。在这一实验中，我们还是用一个模块控制另一个模块。

生活中，我们可以利用一个检测传感器控制一个有源蜂鸣器响起，做声光报警设备，如人体检测（人体红外热释传感器）等等。这一实验课程中我们将避障传感器，舵机驱动板和舵机组合实验，实现避障传感器检测到障碍物时舵机转动带动门开的效果。

---

**2. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) | ![图片不存在](media/460ec103035638e948d2b1a272e62178.png) | ![图片不存在](media/2b35bd88b0382b61946efaa259ccf033.png) | ![图片不存在](media/25f82bd1b415a8203a32392488131376.png)  | 
| ------------------------ | ------------------------ | ------------------------ | ---------------------------- | 
|主板 x1| 舵机驱动模块 x1      | 避障传感器 x1      | 舵机 x1 |
|![图片不存在](media/1ff24756e347dcc14db599711e89d922.png)|![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)        | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |![图片不存在](media/f5504973a1c7bd3a74e8a9370a3c2358.png) |
|  4P线(反向) x1 |3P线(反向) x1 | USB线 x1 | 一字螺丝刀 x1  | 

---

**3. 模块接线图**

![图片不存在](media/90b17a18ea2edded43e6b89898d536bd.png)

---

**4. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**29_Automatic_Induction_Door**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/d5909a20d794f01d1dc40e76b179b23e.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**5. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电。当避障传感器检测到障碍物时，避障传感器上SLED灯亮起，舵机转动，门打开；当避障传感器检测不到障碍物时，舵机转动，门关闭。

![图片不存在](media/17a884917a788e9ce97931c4d35f03c6.png)

---

**6. 代码说明**

可以参照第03课，第20课和第28课的代码说明，这里就不多做介绍了。

---

第30课 入侵检测报警器

**1. 项目介绍**

上一课实验中我们学习了使用避障传感器检测障碍物模拟智能感应门。在这一实验课程中我们将人体红外热释传感器、SK6812 RGB模块和有源蜂鸣器模块组合实验，实现人体红外热释传感器检测到附近有人经过时，有源蜂鸣器响起，SK6812 RGB模块上4个LED灯珠闪烁的效果。

---

**2. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)   |![图片不存在](media/6963fc8b02f22425a78d196cbc3c8bd0.png)     | ![图片不存在](media/7e77d1498bafcbd3e9f2d40103af3734.png) |
| ------------------------ | ---------------------------- | ------------------------ |
| 主板 x1  |人体红外热释传感器 x1  | 有源蜂鸣器模块 x1  |
|![图片不存在](media/20045f4ff8b1171e01b98d503293b771.png) | ![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)  | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg)| 
|SK6812 RGB模块 x1|3P线(反向) x3 | USB线  x1   | 

---

**3. 模块接线图**

![图片不存在](media/dc348f01dbf98753e766ebc494d5bb0d.png)

---

**4. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**30_PIR_Alarm**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/644eaa6a4e91fe97f83ec7793f9ef298.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**5. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电。当人体红外热释传感器检测到附近有人经过时，人体红外热释传感器上的红灯灭，有源蜂鸣器发出警报，SK6812 RGB模块4个LED灯珠闪烁。

![图片不存在](media/dce18db1cb84c60ac643fe94de708f13.png)

---

**6. 代码说明**

![图片不存在](./media/fbe5f134ae92019a56954e93bac0b1ab.png)

人体红外热释传感器读取数字电平信号并串口打印输出。

![图片不存在](./media/6159d9a23df08e121c1e7cc8a5098df1.png)

运动检测，检测到有人经过。

![图片不存在](./media/1055d7102ba0f29db65425f54570cd1f.png)
 
有源蜂鸣器响起发出警报。

![图片不存在](./media/b1bb5ed2422f4cdf067d1853d4ad5e06.png)

SK6812RGB模块4个LED灯珠亮红灯。

---

第31课 变色龙

**1. 项目介绍**

在第19课的实验中我们学习了使用旋转编码器计数。在这一实验课程中我们将旋转编码器模块和SK6812 RGB模块组合实验，通过旋转编码器计数的结果，控制SK6812 RGB模块上4个LED显示不同的颜色来模拟变色龙。

---

**2. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)     |![图片不存在](media/e9b4a64c8931991106d802d5266389b7.png)     | ![图片不存在](media/20045f4ff8b1171e01b98d503293b771.png) |
| ---------------------------- | ---------------------------- | ------------------------ |
|主板 x1|  旋转编码器模块 x1      | SK6812 RGB模块 x1     |
| ![图片不存在](media/54d1e28b3b1bec156db70b15730b9e0e.png)       | ![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)       | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg)    |  
| 5P线(反向) x1| 3P线(反向) x1 | USB线  x1   |   

---

**3. 模块接线图**

![图片不存在](media/592f6d0a95d7cf3192bf10ef05ae1472.png)

---

**4. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**31_Chameleon**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/a0c11a2e57e1276a2934071be0327729.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**5. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电。打开串口监视器，设置波特率为 **<u>9600</u>**。

任意方向(<span style="color: rgb(255, 76, 65);">最好先顺时针方向</span>)旋转编码器，串口监视器打印出对应余数；RGB模块上的LED显示余数对应的颜色：余数0显示红色、余数1显示绿色、余数2显示蓝色。按下旋转编码器，RGB模块上LED保持当前颜色不变。是不是很像变色龙呀！

![图片不存在](media/8c1ae47fa492de6000339cf9b792994c.png)

![图片不存在](./media/8b19019211984405653dc5904b77f8e4.png)

---

**6. 代码说明**

![图片不存在](./media/d03a95e386e703d2a8fbc8c32b89579a.png)

![图片不存在](./media/953c3d918e74ce221d7c914eb9dfc814.png)是模除运算符。代码中模除的结果是旋转编码器计数的值与3相除的余数。 

剩余的可以参照第19课的代码说明，这里就不多做介绍了。

---

第32课 模拟智能窗户

**1. 项目介绍**

生活中能看到各种各样的智能产品，例如智能窗帘、智能窗户、智能电视、智能灯光等等。这一课我们来学习做一个智能窗帘，利用水滴水蒸气传感器模块检测雨水，然后通过设置舵机的角度来达到关窗和开窗的效果。

当然，这只是我们模拟的一个场景，主要用于加深我们的印象，达到对模块学以致用的效果。现实生活中，智能窗户并不是使用舵机来开关的。

---

**2. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)  |![图片不存在](media/ecf322b694f16f05026377a9464d7117.png) | ![图片不存在](media/460ec103035638e948d2b1a272e62178.png)| ![图片不存在](media/25f82bd1b415a8203a32392488131376.png)|
| ------------------------ | ------------------------ | -------------------- | ---------------------------- |   
|主板 x1  |水滴传感器 x1 | 舵机驱动模块 x1       |  舵机 x1 |
|![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png) | ![图片不存在](media/1ff24756e347dcc14db599711e89d922.png)  | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |    |
| 3P线(反向) x1 | 4P线(反向) x1 |USB线 x1 |     | 

---

**3. 模块接线图**

![图片不存在](media/5a7179e56d9d25b50ab0c9edf6de37bc.png)

---

**4. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**32_Smart_Window**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

<span style="color: rgb(255, 76, 65);">注意：代码中的模拟值的阈值400可以根据实际情况设置。</span>

![图片不存在](./media/34b828108dc34fe086bca4b0cea45db5.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**5. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电。当水滴传感器检测到一定水量，舵机转动达到关窗的效果。否则舵机转动到另一个角度，达到开窗的效果。

![图片不存在](media/50aca087b89f6e59e698969b14d667f7.png)

---

**6. 代码说明**

可以参照第12课，第20课和第28课的代码说明，这里就不多做介绍了。

---

第33课 夜光灯

**1. 项目介绍**

前面我们已经学习了光敏传感器的工作原理，在这一项目中，我们将光敏传感器和SK6812 RGB模块组合实验，实现光敏传感器检测到光照强度模拟值高于设定值时SK6812 RGB模块上的4个LED灯珠熄灭，低于设定值时SK6812 RGB模块上的4个LED灯珠点亮的效果。

---

**2. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) |![图片不存在](media/20045f4ff8b1171e01b98d503293b771.png) |![图片不存在](media/b60bc89e299325a03217aa1e0e4fe4f4.png) |
| ------------------------ | ------------------------ | ------------------------ |
|主板 x1| SK6812 RGB模块 x1   |光敏传感器 x1  |
| ![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)  | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |   |
| 3P线(反向) x2 | USB线 x1   |     |

---

**3. 模块接线图**

![图片不存在](media/74eb24d7e5a91e178b7fec5fe6912d85.png)

---

**4. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**33_Night_Lamp**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

<span style="color: rgb(255, 76, 65);">注意：代码中的模拟值的阈值200可以根据实际情况设置。</span>

![图片不存在](./media/bb909a0e8d868383902331a1415f7baa.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**5. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

串口监视器打印出光敏传感器检测到光照强度对应的模拟值，使用手机的照明灯对着光敏传感器模块上的光敏电阻照射时，当光敏传感器检测到光照强度的模拟值大于等于200时，SK6812 RGB模块上的4个LED灯珠熄灭；否则，低于200时，SK6812 RGB模块上的4个LED灯珠点亮，实现了夜光灯的效果。

![图片不存在](media/7c1a3438f0250e25b545be551a687e23.png)

---

**6. 代码说明**

可以参照第12课和第28课的代码说明，这里就不多做介绍了。

---

第34课 压力报警器

**1. 项目介绍**

生活中，有很多人会使用压力器来测量自己的最大压力有多少，有些压力器具有压力过大警报功能，提醒人们压力过大，需要进行减少压力以免损坏压力器。这一课我们来学习制作一个压力报警器，它虽然简单，但却是非常具有意义的。原理很简单，利用薄膜压力传感器检测到一定压力（设定压力值），检测的结果控制一个有源蜂鸣器响起。

---

**2. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)|![图片不存在](media/7e77d1498bafcbd3e9f2d40103af3734.png)|![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg)  | 
| ---------------------------- | ---------------------------- | ------------------------ |
|主板 x1 | 有源蜂鸣器模块 x1 | USB线  x1 |
|  ![图片不存在](media/47ae764c377f2a93c081f473586bbcca.png) |![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)|      | 
| 薄膜压力传感器 x1      |3P线(反向) x2 |     |

---

**3. 模块接线图**

![图片不存在](media/63f90b3fed09be46dec7f64b74df6319.png)

---

**4. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**34_Pressure_Alarm**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

<span style="color: rgb(255, 76, 65);">注意：代码中的模拟值的阈值400可以根据实际情况设置。</span>

![图片不存在](./media/3823f316b5bdbaa50e892eb242692f67.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**5. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电。为了使实验数据最精准，请将薄膜压力传感器尽量平放。

串口监视器打印出薄膜压力传感器的模拟值。用手按压薄膜时，随着压力的增大，可以看到模拟值逐渐变小。

当薄膜压力传感器的模拟值小于400时，有源蜂鸣器响起，否则有源蜂鸣器不响。

![图片不存在](./media/9ac8cfb264a3fc1bae8c3538604ec61c.png)

---

**6. 代码说明**

可以参照第12课和第28课的代码说明，这里就不多做介绍了。

---

第35课 温湿度仪表 

**1. 项目介绍**：

在冬季时，空气中的湿度很低，就是空气很干燥，再加上寒冷，人体的皮肤就容易过于干燥而裂，所以需要使用加湿器给家里的空气增加湿度，但是怎么知道空气过于干燥了呢？那就需要检测空气湿度的设备，前面我们已经学习过了XHT11温湿度传感器的工作原理。在这一课我们将结合XHT11温湿度传感器和主板上的TFT显示屏来制作一个温湿度仪表，在TFT显示屏上显示XHT11温湿度传感器检测到环境中的温度和湿度。

---

**2. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)  |![图片不存在](media/65e0cd99d69eb4c74ce5d1be531bf263.png)  |![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)         |![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg)    |
| ------------------------ | ---------------------------- | ----------------------------- |----------------------------- |
|主板 x1| XHT11温湿度传感器 x1|3P线(反向) x1  |USB线  x1 |


---

**3. 模块接线图**

![图片不存在](media/6e44505c6549bf9efd2d902059387679.png)

---

**4. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**35_Temperature-humidity_meter**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/4ef25ce27ab709b631cc15e95d04ec79.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**5. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，上传成功后可以在主板上的TFT显示屏看到XHT11温湿度传感器检测到环境中的温度值和湿度值。

![图片不存在](./media/d8e451806bbc8bc1cb271b333ef2a36c.png)

---

**6. 代码说明**

可以参照第23课和第26课的代码说明，这里就不多做介绍了。

---

第36课 TFT显示屏显示TF卡图片 

**1. 项目介绍**：

本套件中的主板内置有TF卡槽，在TF卡保存图片文件，然后将TF卡插入TF卡槽，通过编写相关程序代码，这样TFT显示屏会显示TF卡中的图片相关信息。

---

**2. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) | ![图片不存在](media/a2177985ef959639adeb353c82308177.png)     |![图片不存在](media/2864fa3460468e147c09dcfbd4c9f89e.png)     |![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |
| ------------------------ | ---------------------------- | ----------------------------- |----------------------------- |
|主板 x1| TF卡 x1 | 读卡器 x1|USB线  x1|


---

**3. 将图片转入TF卡**

(1). 将TF卡插入读卡器

![图片不存在](media/a0ba583f842e0021314fe6ee345072fb.png)

(2). 将读卡器(已经插有TF卡)插入电脑的USB口上。

![图片不存在](media/e443f80ab1696a78a322b35ea20b1730.png)

(3). 鼠标左双击“**我的电脑(或此电脑)**”，在此页面可以看到“**U盘**”标志。鼠标右单击“**U盘**”标志，出现对话框，选择单击“**属性**”查看TF卡的文件系统是不是“**FAT32**”？如果是就可以了。

![图片不存在](media/876d3edb42f3cc31e48bee930ce002db.png)

![图片不存在](media/905f4a2f2322aebfe21da48c2ccb02f1.png)

如果TF卡的文件系统不是“**FAT32**”，则需要修改TF卡的文件系统。鼠标右单击“**U盘**”标志，出现对话框，选择单击“**格式化**”，出现格式化页面，在此页面点击“**FAT(默认)**”后面的**下拉箭头**来选择“**FAT32**”，然后点击“**开始**”进行格式化。这样，TF卡的文件系统“**FAT**”更改成“**FAT32**”。

![图片不存在](media/fcb5bf0a41b7888f31025f077af49254.png)

![图片不存在](media/d58c7e14076d3de6495e9695ee330d6c.png)

![图片不存在](media/185d522213d05d76ef2c03ed938276df.png)

(4). 全部选中文件夹中的图片(**文件类型：BMP 图片文件(.bmp)**)，然后将选中的图片**发送到**(或**复制粘贴到**)读卡器中的TF卡(U盘)。<span style="color: rgb(255, 76, 65);">（**特别注意：图片名字和格式都不能修改**）</span>

![图片不存在](media/f96997bafffcafa16c5a2a7bc40c85ff.png)

![图片不存在](./media/cc9142e128befe0644d9fe334f0a5454.png)

(4). 图片发送到TF卡(U盘)后，退出电脑上的读卡器中的TF卡(U盘)，将TF卡正确插入主板上的TF卡槽中。

![图片不存在](./media/25c3657be4c18408151cccb0fa0ccd78.png)

![图片不存在](./media/ecc3d213239930cbb726705cd1696e91.png)

![图片不存在](./media/03945b13c133ea9c9b0644bed13da3f8.png)

---

**4. 模块接线图**

![图片不存在](media/ddae226f3a99598d2b8a313c2afa52ae.png)

---

**5. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**36_TFT_displays_TF_card_pattern**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/56a9525075282686a13f59af2e42d32d.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**6. 实验结果**

代码上传成功后，拔下USB线断电，再用USB线连接到计算机上电，上传成功后可以在主板上的TFT显示屏看到循环显示TF卡上的图片文件。

![图片不存在](./media/b16968c8886aeb49efff04bd5f8bdc49.png)

![图片不存在](./media/88bca5adb3b724fc52c4dbeed997255b.png)

.....

![图片不存在](./media/2d54d912b8b498392d9e91279c47ff57.png)

---

第37课 碰撞警报器

**1. 项目介绍**

在如今大城市中，几乎家家户户都拥有一辆代步的私家车，很多私家车都是停靠在路边，很多行人在行走时都会不小心碰到私家车。这时，被碰到的私家车都会出现灯光闪烁，蜂鸣器鸣叫，提醒人们，你已经碰到车了。那我们可不可以也来模拟被碰撞了就发出警报呢？当然可以了，这个实验我们就来使用碰撞传感器控制蜂鸣器和SK6812 RGB模块来模拟碰撞警报器。

---

**2. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png)   |![图片不存在](media/17419874061f2c02ea2c4c1c3a73a37a.png)     | ![图片不存在](media/7e77d1498bafcbd3e9f2d40103af3734.png) |
| ------------------------ | ---------------------------- | ------------------------ |
| 主板 x1  |碰撞传感器 x1  | 有源蜂鸣器模块 x1  |
|![图片不存在](media/20045f4ff8b1171e01b98d503293b771.png) | ![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)  | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg)| 
|SK6812 RGB模块 x1|3P线(反向) x3 | USB线  x1   | 

---

**3. 模块接线图**

![图片不存在](media/6317f3571cf7a482363b430716faf7ec.png)

---

**4. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**37_Collision_Alarm**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/23d44534899f2597fda71ad79d430184.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**5. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

当手按压碰撞传感器上的金属弹片时，传感器上的灯亮红灯，蜂鸣器鸣叫，SK6812 RGB模块上的4个LED灯珠闪烁不同的颜色灯。

![图片不存在](./media/9760a53af495512e606ce200b886ad30.png)

---

**6. 代码说明**

可以参照第18课和第28课的代码说明，这里就不多做介绍了。

---

第38课 智能红外遥控灯

**1. 项目介绍**

在前面实验中，我们学会了SK6812 RGB模块上4个LED灯珠亮不同颜色灯、也学会了使用红外接收模块，并将接收到的遥控器对应的键值打印出来。在这一实验课程中，我们将红外接收模块和SK6812 RGB模块组合实验，实现用红外遥控器控制SK6812 RGB模块上4个LED灯珠的亮灭以及控制SK6812 RGB模块上4个LED灯珠显示不同颜色灯。

在这一实验课程中我们使用红外遥控器上的“ ▲ ”和“ ▼ ”等两个按键控制SK6812 RGB模块上4个LED灯珠分别亮灭，然后再使用“ ① ”、“ ② ”、“ ③ ”、“ ④ ”、“ ⑤ ”、“ ⑥ ”、“ ⑦ ”、“ ⑧ ”、“ ⑨ ”等九个按键来控制SK6812 RGB模块上4个LED灯珠分别亮红色灯、绿色灯、蓝色灯、橙色灯、黄色灯、紫色灯、金色灯、粉红色灯、品红色灯的效果。

---

**2. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) |![图片不存在](media/68a8618879423c0a54d0ea10f7f65258.png)     | ![图片不存在](media/20045f4ff8b1171e01b98d503293b771.png) |
| -------------------------------- | ---------------------------- | ------------------------ |
|主板 x1|红外接收模块 x1        | SK6812 RGB模块 x1     |
| ![图片不存在](media/aa263684292be588142e139e5d944991.png) | ![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)       | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg)    | 
| Keyes 遥控器 x1 | 3P线(反向) x2 | USB线  x1 |

---

**3. 模块接线图**

![图片不存在](media/be55d8bceca260e4d8f475cf1eed3dc1.png)

---

**4. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**38_Intelligent_IR_Control**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/7e976cb1ab1985b7cc4a6ab8d4ac9d71.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**5. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

![图片不存在](./media/54b78aff608a3ca4ff68f73554d5c42e.png)

找到红外遥控器，拔出绝缘片，对准红外接收模块的红外接收传感器的接收头。第一次按下红外遥控器上的 “ **▲** ” 键，SK6812 RGB模块上4个LED灯珠被点亮，实现开灯的效果。串口监视器打印出按下的按键值和SK6812 RGB模块上4个LED灯珠亮灯情况：“**<u>FF629D  led on</u>**” 。

按下红外遥控器上的 “ **▼** ” 键，SK6812 RGB模块上4个LED灯珠熄灭，实现关灯的效果。串口监视器打印出按下的按键值和SK6812 RGB模块上4个LED灯珠亮灯情况：“**<u>FFA857  led off</u>**” 。

按下红外遥控器上的 “ **①** ” 键，SK6812 RGB模块上4个LED灯珠亮红色灯。串口监视器打印出按下的按键值和SK6812 RGB模块上4个LED灯珠亮灯情况：“**<u>FF6897  red led</u>**” 。

按下红外遥控器上的 “ **②** ” 键，SK6812 RGB模块上4个LED灯珠亮绿色灯。串口监视器打印出按下的按键值和SK6812 RGB模块上4个LED灯珠亮灯情况：“**<u>FF9867  green led</u>**” 。

按下红外遥控器上的 “ **③** ” 键，SK6812 RGB模块上4个LED灯珠亮蓝色灯。串口监视器打印出按下的按键值和SK6812 RGB模块上4个LED灯珠亮灯情况：“**<u>FFB04F  blue led</u>**” 。

按下红外遥控器上的 “ **④** ” 键，SK6812 RGB模块上4个LED灯珠亮橙色灯。串口监视器打印出按下的按键值和SK6812 RGB模块上4个LED灯珠亮灯情况：“**<u>FF30CF  orange led</u>**” 。

按下红外遥控器上的 “ **⑤** ” 键，SK6812 RGB模块上4个LED灯珠亮黄色灯。串口监视器打印出按下的按键值和SK6812 RGB模块上4个LED灯珠亮灯情况：“**<u>FF18E7  yellow led</u>**” 。

按下红外遥控器上的 “ **⑥** ” 键，SK6812 RGB模块上4个LED灯珠亮紫色灯。串口监视器打印出按下的按键值和SK6812 RGB模块上4个LED灯珠亮灯情况：“**<u>FF7A85  purple led</u>**” 。

按下红外遥控器上的 “ **⑦** ” 键，SK6812 RGB模块上4个LED灯珠亮金色灯。串口监视器打印出按下的按键值和SK6812 RGB模块上4个LED灯珠亮灯情况：“**<u>FF10EF  gold led</u>**” 。

按下红外遥控器上的 “ **⑧** ” 键，SK6812 RGB模块上4个LED灯珠亮粉红色灯。串口监视器打印出按下的按键值和SK6812 RGB模块上4个LED灯珠亮灯情况：“**<u>FF38C7  pink led</u>**” 。

按下红外遥控器上的 “ **⑨** ” 键，SK6812 RGB模块上4个LED灯珠亮品红色灯。串口监视器打印出按下的按键值和SK6812 RGB模块上4个LED灯珠亮灯情况：“**<u>FF5AA5  magenta led</u>**” 。

![图片不存在](media/68f46f1fa52fce4582f52aa7c3637c01.png)

---

**6. 代码说明**

可以参照第18课，第22课和第28课的代码说明，这里就不多做介绍了。

---

第39课 楼道感应灯

**1. 项目介绍**

如今智能家居发展迅速，你使用过智能家居当中的智能楼道感应灯吗？在晚上或天黑时，当我们跺跺脚或者拍拍手时，智能楼道感应灯自动亮起；当没有声音或白天天亮时时，智能楼道感应灯处于熄灭状态。智能楼道感应灯上安装有光敏传感器和声音传感器，光敏传感器检测光照强度，声音传感器将外界声音的大小，转换成对应数值。智能楼道感应灯设置一个声音强度临界点，当光照强度低于某一值，声音转换后对应的数值超过该声音强度临界点时，灯光亮起一段时间。 

在这一实验课程中，我们将光敏传感器，声音传感器和SK6812 RGB模块组合实验，学习制作一个最简单的智能楼道感应灯。

---

**2. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) |![图片不存在](media/b60bc89e299325a03217aa1e0e4fe4f4.png)| ![图片不存在](media/d2f1d258aa291e3efb405237f2fb8fc7.png) |![图片不存在](media/f5504973a1c7bd3a74e8a9370a3c2358.png) |
| ------------------------ | ------------------------ | ------------------------ |------------------------ |
|主板 x1| 光敏传感器 x1  |声音传感器 x1     |一字螺丝刀 x1|
|![图片不存在](media/20045f4ff8b1171e01b98d503293b771.png) | ![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png) | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |    |
| SK6812 RGB模块 x1     | 3P线(反向) x3 | USB线 x1   |      |

---

**3. 模块接线图**

![图片不存在](media/f2d89345c71ffd6d87fc5259bf04dca7.png)

---

**4. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**39_Corridor_Sensing_Light**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

<span style="color: rgb(255, 76, 65);">注意：代码中的模拟值的阈值可以根据实际情况设置。</span>

![图片不存在](./media/d0b913332d073aa33e2618a1e55ea5d4.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**5. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，打开串口监视器，设置波特率为 **<u>9600</u>**。

![图片不存在](media/6259a014b165f42bee624660923c3459.png)

串口监视器打印出声音传感器接收到的声音对应的模拟值和光敏传感器检测光照强度的模拟值。遮住光敏传感器光照使检测到的光照强度模拟值低于200时，对准MIC头大声说话，接收到的声音增大时模拟值也增大，当模拟值大于150时，SK6812 RGB模块上4个LED灯珠亮起5秒，然后熄灭。这样就可以模拟智能楼道感应灯。（**注意：如果声音变化对应的模拟值没有变化并且一直都是数字0，需要用一字螺丝刀顺时针旋转电位器来调节。**）

![图片不存在](./media/4e75a45fbf1de657b8b1c1ee45d6802a.png)

![图片不存在](media/2369ec545378d45113ac2a3961d5f950.png)

---

**6. 代码说明**

可以参照第12课，第18课和第28课的代码说明，这里就不多做介绍了。

---


第40课 激光防盗

**1. 项目介绍**

在新闻节目中经常会听到很多有关盗窃事件，很多财产都被盗贼盗走，损失很多。现在很多家庭里都没有安装防盗装置，来发出警报以提醒人们。那我们可不可以帮他们制作一个防盗装置呢？在本实验课程中，我们将使用激光模块，光敏传感器，SK6812 RGB模块，蜂鸣器组合一起来制作激光防盗装置。

---

**2. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) | ![图片不存在](media/fc83fd05ac4628d981601707db7c3de2.png) |![图片不存在](media/20045f4ff8b1171e01b98d503293b771.png)     |![图片不存在](media/b60bc89e299325a03217aa1e0e4fe4f4.png) |
| ------------------------ | ---------------------------- | ----------------------------- |----------------------------- |
|主板 x1| 激光模块 x1 | SK6812 RGB模块 x1| 光敏传感器 x1 |
| ![图片不存在](media/7e77d1498bafcbd3e9f2d40103af3734.png) |![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)  | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) |  |
| 有源蜂鸣器 x1 | 3P线(反向) x4|USB线 x1 |     |

---

**3. 模块接线图**

![图片不存在](media/3857224a83b677cdb3c682b34b45afb7.png)

---

**4. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**40_Laser_anti-theft**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

![图片不存在](./media/65127da64af192e2fc9d2cad98452d1d.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**5. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电。上电后，可以看到激光模块发出的激光正对着光敏传感器模块上的光敏电阻，在光敏传感器模块和激光模块之间用物体挡住激光，发现SK6812 RGB模块上的4个LED灯珠依次闪烁红灯和黄灯，蜂鸣器不断地鸣叫。

![图片不存在](./media/305759878274352ed8afbfcd75ab912b.png)

---

**6. 代码说明**

可以参照第03课，第12课，第18课和第28课的代码说明，这里就不多做介绍了。

---

第41课 模拟温度散热装置

**1. 项目介绍**

生活中，我们的电脑或者电路板芯片等器件会由于工作时间过长或者功耗过大的问题而发热严重，所以我们常常需要一个散热装置。

在前面的课程我们学习了如何使用温度传感器和电机模块，这一课我们学习把它们结合起来做成一个智能散热装置。当检测到环境温度高于某一个值时的时候，电机开启，从而达到降低环境温度、散热效果，再把此刻的温度值显示在四位数码管中。

---

**2. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) | ![图片不存在](media/5c6233a12f9e14a0ebabfd07f4c5a33f.png) |![图片不存在](media/0fb16f82134e03f951cb8b8c383577ef.png)     |
| ------------------------ | ---------------------------- | ----------------------------- |
|主板 x1| TM1650四位数码管模块 x1 | 130电机模块 x1|
| ![图片不存在](media/02075ba5d86485fa607a4f642b1675a0.png) | ![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png)  | ![图片不存在](media/90af020268d3414e4d72f2d6834b218e.png)|
|  NTC-MF52AT模拟温度传感器 x1 | 3P线(反向) x1|AA电池 x6 |
| ![图片不存在](media/1ff24756e347dcc14db599711e89d922.png)    | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg) | ![图片不存在](media/aeffa45e36af55436bab7152f894eef9.png) | 
| 4P线(反向) x2 |USB线 x1 | 电池盒 x1 |

---

**3. 模块接线图**

![图片不存在](media/4dd1c4ecdd18904e077e56b2a266932d.png)

---

**4. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**41_Heat_abstractor**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

<span style="color: rgb(255, 76, 65);">注意：代码中的温度阈值30可以根据实际情况设置。</span>

![图片不存在](./media/2948d1676a6a4342a661e5e84ac08c61.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**5. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后，给主板外接电源供电（将装有电池的电池盒接到主板上）。上电后，可以在四位数码管模块上看到当前温度值，当温度超过代码中设定的30°C时，风扇转动，散热。

![图片不存在](media/6e59207309831fbcd3f25a675051eda4.png)

---

**6. 代码说明**

变量的设置与存储检测值，与前面我们学习的一样，也是通过设置一个温度的阈值（阈值30可以根据实际情况重新更改），超过这个阈值进行控制电机转动，四位数码管显示温度值。

---

第42课 超声波雷达

**1. 项目介绍**

蝙蝠飞行与获取猎物是通过回声定位的。回声定位：某些动物能通过口腔或鼻腔把从喉部产生的超声波发射出去，利用折回的声音来定向，这种空间定向的方法称为回声定位。科学家们从蝙蝠身上得到的启示发明了雷达，即雷达的天线相当于蝙蝠的嘴，而天线发出的无线电波就相当于蝙蝠的超声波，雷达接收电波的荧光屏就相当于蝙蝠的耳朵。

这一课我们就来学习制作一个简易雷达。将HC-SR04 超声波传感器、无源蜂鸣器、SK6812 RGB模块和TM1650四位数码管模块组合实验，利用距离大小控制无源蜂鸣器响起对应频率的声音、SK6812 RGB模块上4个LED灯珠亮起对应颜色灯，然后把这个距离显示在四位数码管上。这样就搭建好了一个简易的超声波雷达系统。

---

**2. 实验组件**

| ![图片不存在](media/6a82ee5dd8727ea183dc758cc34e30e0.png) | ![图片不存在](media/9cf8c08b3226a4b79005700830303d79.png) | ![图片不存在](media/d527053929462c5025cbb77b63af8c8e.png)|
| ---------------------------- | ---------------------------- | ----------------------------- |
|主板 x1  |HC-SR04 超声波传感器 x1      | 超声波转接模块 x1 |
| ![图片不存在](media/0a79c3df25de35853a29cd4501823067.png) | ![图片不存在](media/20045f4ff8b1171e01b98d503293b771.png) | ![图片不存在](media/5c6233a12f9e14a0ebabfd07f4c5a33f.png) | 
| 无源蜂鸣器 x1  | SK6812 RGB模块 x1  | TM1650四位数码管 x1 |
|![图片不存在](media/278286c09e3e34f820b4754221ac23aa.png) | ![图片不存在](media/1ff24756e347dcc14db599711e89d922.png) | ![图片不存在](media/fa9ebfb506b2f154108baba98dffa9ee.jpg)  |
|3P线(反向) x2| 4P线(反向) x2 | USB线  x1  |
|![图片不存在](media/aeffa45e36af55436bab7152f894eef9.png)|![图片不存在](media/90af020268d3414e4d72f2d6834b218e.png)| |
|电池盒 x1 |AA电池 x6 |   |

---

**3. 模块接线图**

![图片不存在](media/d4074b96d9a686cdc2f7213db98ff0e6.png)

---

**4. 实验代码**

本项目中使用的代码保存在文件夹“<u>**...\项目代码\Mixly_代码**</u>”中，我们可以在此路径下打开代码文件''**42_Ultrasonic_radar**"。

**注意：为了避免上传代码不成功，请上传代码前不要连接模块。代码上传成功后，拔下USB线断电，按照接线图正确接好模块后再用USB线连接到计算机上电，观察实验结果。**

<span style="color: rgb(255, 76, 65);">注意：代码中的距离阈值可以根据实际情况设置。</span>

![图片不存在](./media/1557275e1d025727998d915dc2e18c3b.png)

参照第01课的示例，导入提供的示例代码并连接好串口端口，然后上传示例代码。

---

**5. 实验结果**

代码上传成功后，拔下USB线断电，按照接线图正确接好模块后，给主板外接电源供电（将装有电池的电池盒接到主板上）。

当超声波传感器检测到障碍物距离范围在10cm 以内时，SK6812 RGB模块上的4个LED灯亮红色，并将检测到障碍物的距离显示在四位数码管上。同时无源蜂鸣器发出声响，起到提示的作用。

![图片不存在](./media/5b1677e9b5d579b156940a931fe7b8e5.png)

当超声波传感器检测到障碍物距离范围在10cm ~ 20cm 以内时，SK6812 RGB模块上的4个LED灯亮绿色，并将检测到障碍物的距离显示在四位数码管上。同时无源蜂鸣器发出声响，起到提示的作用。

![图片不存在](./media/80f589d23dd94b97e6c216fa3aa43ada.png)

当超声波传感器检测到障碍物距离范围在20cm 以外时，SK6812 RGB模块上的4个LED灯亮蓝色，并将检测到障碍物的距离显示在四位数码管上。同时无源蜂鸣器发出声响，起到提示的作用。

![图片不存在](./media/8f3c04e5cc122ad413a5a6550bff0636.png)

---

**6. 代码说明**

可以参照前面课程的代码说明，这里就不多做介绍了。

---




